(function(g){var window=this;'use strict';var lH=function(w){w.publish("cardstatechange",w.cw()&&w.Gg()?1:0)},Ll=function(w,M){var P=g.uh(M),u=P?M:arguments;
for(P=P?0:1;P<u.length;P++){if(w==null)return;w=w[u[P]]}return w},ldc=function(w){var M=g.OS(w);
w=g.iy(w);return new g.Kj(M.x,M.y,w.width,w.height)},Lah=function(w,M,P){var u=u===void 0?{}:u;
var X;return X=g.Ni(w,M,function(){g.Vh(X);P.apply(w,arguments)},u)},QB=function(w){w=g.UE(w);
delete ek[w];g.SF(ek)&&Be&&Be.stop()},B2t=function(){Be||(Be=new g.gV(function(){emU()},20));
var w=Be;w.isActive()||w.start()},emU=function(){var w=g.ca();
g.wd(ek,function(M){Qwj(M,w)});
g.SF(ek)||B2t()},kK=function(w,M,P,u){g.$R.call(this);
if(!Array.isArray(w)||!Array.isArray(M))throw Error("Start and end parameters must be arrays");if(w.length!=M.length)throw Error("Start and end points must be the same length");this.L=w;this.j=M;this.duration=P;this.G=u;this.coords=[];this.progress=this.K=0;this.X=null},Qwj=function(w,M){M<w.startTime&&(w.endTime=M+w.endTime-w.startTime,w.startTime=M);
w.progress=(M-w.startTime)/(w.endTime-w.startTime);w.progress>1&&(w.progress=1);w.K=1E3/(M-w.X);w.X=M;kdp(w,w.progress);w.progress==1?(w.B=0,QB(w),w.onFinish(),w.XE()):w.isPlaying()&&w.cU()},kdp=function(w,M){typeof w.G==="function"&&(M=w.G(M));
w.coords=Array(w.L.length);for(var P=0;P<w.L.length;P++)w.coords[P]=(w.j[P]-w.L[P])*M+w.L[P]},Rmt=function(w,M){g.Iu.call(this,w);
this.coords=M.coords;this.x=M.coords[0];this.y=M.coords[1];this.z=M.coords[2];this.duration=M.duration;this.progress=M.progress;this.fps=M.K;this.state=M.B},R_=function(w,M,P,u,X){kK.call(this,M,P,u,X);
this.element=w},nw3=function(w,M,P,u,X){if(M.length!=2||P.length!=2)throw Error("Start and end points must be 2D");
R_.call(this,w,M,P,u,X)},vwA=function(w){return Math.pow(w,3)},swj=function(w){return 3*w*w-2*w*w*w},KaV=function(w){g.v.call(this);
this.L=w||window;this.B=[]},nl=function(w){return w.baseUrl||null},ve=function(w,M){return g.DP(g.EV(w,M),function(P){return!!P})},bSU=function(w,M,P){function u(fz){var U1=fz.hovercardButton;
if(!U1)return null;U1=U1.subscribeButtonRenderer;if(!U1)return null;var ZU=U(U1.unsubscribedButtonText),M_=U(U1.subscribedButtonText);if(U1.subscribed){var Tp=U(U1.subscriberCountWithUnsubscribeText);var kM=U(U1.subscriberCountText)}else Tp=U(U1.subscriberCountText),kM=U(U1.subscriberCountWithSubscribeText);var w3=null;if(fz.signinEndpoint){w3=Ll(fz,"signinEndpoint","webNavigationEndpointData","url");if(!w3){var sE,Vt;w3=(Vt=g.A((sE=U1.signInEndpoint)==null?void 0:sE.commandMetadata,g.qg))==null?
void 0:Vt.url}if(!w3)return null}return ZU&&(M_||w3)?{subscribed:U1.subscribed,subscribeText:ZU,subscribeCount:Tp,unsubscribeText:M_,unsubscribeCount:kM,enabled:U1.enabled,signinUrl:w3,classic:fz.useClassicSubscribeButton}:null}
function X(fz){if(fz){var U1=[],ZU=fz.videoId;ZU&&U1.push("v="+ZU);(ZU=fz.playlistId)&&U1.push("list="+ZU);(fz=fz.startTimeSeconds)&&U1.push("t="+fz);return"/watch?"+U1.join("&")}}
function U(fz){if(!fz)return null;var U1=fz.simpleText;return U1?U1:fz.runs?g.EV(fz.runs,function(ZU){return ZU.text}).join(""):null}
M=M.endscreenElementRenderer;if(!M)return null;var f=M.style,h=M.endpoint||{},c=null,Z=null,S=!1,H=null,p=null,F=null,E=null,y=!1,q=null,d=null,l=null,e=null,R=null,I=null;if(f==="VIDEO")g.A(h,g.lu)?c=g.A(h,g.lu).url:(I=g.A(h,g.c7),c=X(I)),Z=!1,H=w,M.thumbnailOverlays?(S=M.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,p=U(S.text),S=S.style==="LIVE"):p=U(M.videoDuration);else if(f==="PLAYLIST")g.A(h,g.lu)?c=g.A(h,g.lu).url:(I=g.A(h,g.c7),c=X(I)),Z=!1,H=w,F=U(M.playlistLength);else if(f===
"CHANNEL"){if(y=Ll(h,"browseEndpoint","browseId"))E=y,c="/channel/"+E;Z=!1;H="new";(y=!!M.isSubscribe)?q=u(M):d=U(M.subscribersText)}else f==="WEBSITE"?((l=Ll(h,"urlEndpoint","url"))&&(c=l),Z=!0,H="new",l=M.icon.thumbnails[0].url):f==="CREATOR_MERCHANDISE"&&(M.productPrice&&(e=U(M.productPrice)),M.additionalFeesText&&(R=U(M.additionalFeesText)),(Z=Ll(h,"urlEndpoint","url"))&&(c=Z),Z=!0,H="new");w=Ll(M,"title","accessibility","accessibilityData","label");var w4=M.endpoint?M.endpoint.clickTrackingParams:
null,t="";if(M.metadata){var $M=U(M.metadata);$M&&(t=$M)}return{id:"element-"+P,type:f,title:U(M.title),metadata:t,callToAction:U(M.callToAction),Kt:M.image,iconUrl:l,left:Number(M.left),width:Number(M.width),top:Number(M.top),aspectRatio:Number(M.aspectRatio),startMs:Math.floor(Number(M.startMs)),endMs:Math.floor(Number(M.endMs)),videoDuration:p,Bq:S,playlistLength:F,channelId:E,subscribeButton:q,subscribersText:d,isSubscribe:y,targetUrl:c||null,y3:Z,sessionData:w4?{itct:w4}:null,Xv$:H,Uf:w?w:null,
isPlaceholder:M.isPlaceholder,impressionUrls:ve(M.impressionUrls||[],nl),cz:ve(M.hovercardShowUrls||[],nl),clickUrls:ve(h.loggingUrls||[],nl),visualElement:g.Hm(M.trackingParams),productPrice:e,additionalFeesText:R,watchEndpoint:I||null}},IdV=function(w,M){var P={startMs:Math.floor(Number(w.startMs)),
impressionUrls:ve(w.impressionUrls||[],nl),elements:ve(w.elements||[],function(u,X){return bSU(M,u,X)})};
w.trackingParams&&(P.visualElement=g.Hm(w.trackingParams));return P},Adp=function(w){g.D0.call(this,w);
this.X=this.endscreen=null;this.L={};this.K={};this.G=this.C=null;this.V=[];this.B=null;this.B3=!0;this.j=0;w=w.N();this.S=g.r8(w)||g.C7(w);this.events=new g.V2(this);g.b(this,this.events);this.events.Y(this.player,g.AP("creatorendscreen"),this.onCueRangeEnter);this.events.Y(this.player,g.gL("creatorendscreen"),this.onCueRangeExit);this.events.Y(this.player,"resize",this.o9);this.events.Y(window,"focus",this.ywN);this.load();var M=g.HS("STYLE");(g.XU("HEAD")[0]||document.body).appendChild(M);this.addOnDisposeCallback(function(){g.Vy(M)});
M.sheet&&(M.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),M.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},gwp=function(w){return w.player.getVideoData().Ym?"current":w.S?"new":"current"},sF=function(w){return w.player.N().playerStyle==="creator-endscreen-editor"},Jdc=function(w){var M=w.player.getVideoData(),P=M.videoId;
w.X&&w.X.abort();P={method:"POST",onFinish:function(X){var U=w.X=null;X.status===200&&(X=X.responseText,X.substring(0,3)===")]}"&&(X=X.substring(3),U=JSON.parse(X),U=IdV(U,gwp(w))));Kl(w,U)},
urlParams:{v:P},withCredentials:!0};w.S&&(P.urlParams.ptype="embedded");var u=M.g1;u&&(P.postParams={ad_tracking:u});if(M=g.zaH(M))if(M=g.W1(M),M=g.Xj(M))w.X=g.o1(M,P)},Kl=function(w,M,P){P=P===void 0?!0:P;
w.player.dB("creatorendscreen");w.C&&(w.C.dispose(),w.C=null,w.G.dispose(),w.G=null);for(var u=g.G(Object.values(w.L)),X=u.next();!X.done;X=u.next())X.value.dispose();w.L={};w.K={};w.V.length>0&&(w.V.forEach(function(h){h.dispose()}),w.V.length=0);
w.B&&(g.PI(w.B,"ytp-ce-element-show"),w.B.setAttribute("aria-hidden","true"));w.j=0;if((w.endscreen=M)&&M.elements){P&&rd3(w);P=[];u=new g.bg(M.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});P.push(u);w.player.N().L||(w.C=new g.r({W:"div",T:"ytp-ce-shadow"}),g.bD(w.player,w.C.element,4),w.G=new g.Cf(w.C,200));for(u=0;u<M.elements.length;++u){X=M.elements[u];var U=jwt(w,X);if(U){w.L[X.id]=U;w.K[X.id]=X;g.bD(w.player,U.element,4);var f=new g.bg(X.startMs,X.endMs,{id:"ytp-ce-element-"+
X.id,namespace:"creatorendscreen"});P.push(f);Cya(w,U,X)}else g.Yq(new g.bK("buildEndscreenElement null",X))}w.player.qf(P);w.o9()}},rd3=function(w){var M=g.F_(),P=g.En();
P&&M&&w.endscreen.visualElement&&g.j2(g.vm)(void 0,P,M,w.endscreen.visualElement)},jwt=function(w,M){var P=null;
switch(M.type){case "VIDEO":w={W:"div",d$:["ytp-ce-element","ytp-ce-video"],Z:{tabindex:"0","aria-label":M.Uf||"","aria-hidden":"true"},J:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-covering-image",Z:bH(M)},{W:"div",T:"ytp-ce-covering-shadow-top"},{W:"a",T:"ytp-ce-covering-overlay",Z:{href:I_(w,M.targetUrl),tabindex:"-1"},J:[{W:"div",d$:["ytp-ce-video-title","ytp-webkit-ellipsis"],Z:{dir:g.cI(M.title||"")},pu:M.title},{W:"div",T:M.Bq?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
pu:M.videoDuration||void 0}]}]};P=new g.r(w);break;case "PLAYLIST":w={W:"div",d$:["ytp-ce-element","ytp-ce-playlist"],Z:{tabindex:"0","aria-label":M.Uf||"","aria-hidden":"true"},J:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-covering-image",Z:bH(M)},{W:"div",T:"ytp-ce-covering-shadow-top"},{W:"a",T:"ytp-ce-covering-overlay",Z:{href:I_(w,M.targetUrl),tabindex:"-1"},J:[{W:"div",d$:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],Z:{dir:g.cI(M.title||"")},pu:M.title},{W:"div",T:"ytp-ce-playlist-count",
J:[{W:"div",T:"ytp-ce-playlist-icon"},{W:"div",T:"ytp-ce-playlist-count-text",pu:M.playlistLength||void 0}]}]}]};P=new g.r(w);break;case "CHANNEL":P={W:"div",d$:["ytp-ce-element","ytp-ce-channel",M.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],Z:{tabindex:"0","aria-label":M.Uf||"","aria-hidden":"true"},J:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",J:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",
J:[{W:"div",T:"ytp-ce-expanding-overlay-body",J:[{W:"div",T:"ytp-ce-expanding-overlay-body-padding",J:[{W:"a",d$:["ytp-ce-channel-title","ytp-ce-link"],Z:{href:I_(w,M.targetUrl),target:"_blank",tabindex:"-1",dir:g.cI(M.title||"")},pu:M.title},M.subscribeButton?{W:"div",T:"ytp-ce-subscribe-container",J:[{W:"div",T:"ytp-ce-channel-subscribe"}]}:"",M.subscribersText?{W:"div",T:"ytp-ce-channel-subscribers-text",pu:M.subscribersText}:"",M.metadata?{W:"div",d$:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],pu:M.metadata}:""]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",Z:bH(M)}]};P=new g.r(P);var u=g.US(document,"div","ytp-ce-channel-subscribe",P.element)[0];if(M.subscribeButton&&M.channelId){g.io(u,"ytp-ce-subscribe-button");if(w.player.N().L){var X=null;var U=M.sessionData.itct}else X="endscreen",U=null;X=new g.Pc(M.subscribeButton.subscribeText,M.subscribeButton.subscribeCount,M.subscribeButton.unsubscribeText,M.subscribeButton.unsubscribeCount,!!M.subscribeButton.enabled,!!M.subscribeButton.classic,
M.channelId,!!M.subscribeButton.subscribed,X,U,w.player,!1);u.appendChild(X.element);w.V.push(X)}break;case "WEBSITE":w={W:"div",d$:["ytp-ce-element","ytp-ce-website"],Z:{tabindex:"0","aria-label":M.Uf||"","aria-hidden":"true"},J:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",J:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",J:[{W:"div",T:"ytp-ce-expanding-overlay-body",J:[{W:"div",
T:"ytp-ce-expanding-overlay-body-padding",J:[{W:"div",T:"ytp-ce-website-title",Z:{dir:g.cI(M.title||"")},pu:M.title},{W:"div",T:"ytp-ce-website-metadata",pu:M.metadata},{W:"a",d$:["ytp-ce-website-goto","ytp-ce-link"],Z:{href:I_(w,M.targetUrl),target:"_blank",tabindex:"-1"},pu:M.callToAction}]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",Z:bH(M)},{W:"div",T:"ytp-ce-expanding-icon",Z:tA$(M.iconUrl)}]};P=new g.r(w);break;case "CREATOR_MERCHANDISE":P="",M.productPrice&&(P={W:"div",T:"ytp-ce-merchandise-price-container",
J:[{W:"div",T:"ytp-ce-merchandise-price",pu:M.productPrice}]},M.additionalFeesText&&P.J.push({W:"div",T:"ytp-ce-merchandise-additional-fees",pu:M.additionalFeesText})),w={W:"div",d$:["ytp-ce-element","ytp-ce-merchandise"],Z:{tabindex:"0","aria-label":M.Uf||"","aria-hidden":"true"},J:[{W:"div",T:"ytp-ce-element-shadow"},{W:"div",T:"ytp-ce-expanding-overlay",J:[{W:"div",T:"ytp-ce-expanding-overlay-hider"},{W:"div",T:"ytp-ce-expanding-overlay-background"},{W:"div",T:"ytp-ce-expanding-overlay-content",
J:[{W:"div",T:"ytp-ce-expanding-overlay-body",J:[{W:"div",T:"ytp-ce-expanding-overlay-body-padding",J:[{W:"div",T:"ytp-ce-merchandise-title",Z:{dir:g.cI(M.title||"")},pu:M.title},P,{W:"div",T:"ytp-ce-merchandise-metadata",pu:M.metadata},{W:"a",d$:["ytp-ce-merchandise-goto","ytp-ce-link"],Z:{href:I_(w,M.targetUrl),target:"_blank",tabindex:"-1"},pu:M.callToAction}]}]}]}]},{W:"div",T:"ytp-ce-expanding-image",Z:bH(M)},{W:"div",T:"ytp-ce-merchandise-invideo-cta-container",J:[{W:"div",T:"ytp-ce-merchandise-invideo-cta",
pu:M.callToAction||void 0}]}]},P=new g.r(w)}M.isPlaceholder&&g.io(P.element,"ytp-ce-placeholder");return P},bH=function(w){if(w.Kt)var M=w.Kt.thumbnails;
return tA$(M?M[M.length-1].url:null)},tA$=function(w){return w?{style:"background-image: url("+w+")"}:{}},Cya=function(w,M,P){function u(c){c&&(M.listen("blur",function(){c.style.display!="none"&&w.B3&&c.focus()}),M.Y(c,"focus",U),M.Y(c,"blur",f))}
function X(c){w.j+=c;w.j>0?(g.io(M.element,"ytp-ce-force-expand"),AV(w,P.id,!0)):(g.PI(M.element,"ytp-ce-force-expand"),g.PI(M.element,"ytp-ce-element-hover"),AV(w,P.id,!1))}
function U(){X(1)}
function f(){X(-1)}
M.listen("mouseenter",function(){xqx(w,M,P)});
M.listen("mouseleave",function(){OSE(w,M,P)});
w.player.N().L||M.listen("click",function(){g.io(M.element,"ytp-ce-element-hover")});
M.listen("click",function(c){ad4(w,P,c)});
M.listen("keypress",function(c){ad4(w,P,c)});
M.listen("focus",function(){xqx(w,M,P)});
M.listen("blur",function(){OSE(w,M,P)});
M.listen("touchstart",function(){xqx(w,M,P)});
var h=g.fj("ytp-ce-expanding-overlay-hider",M.element);h&&M.Y(h,"touchstart",function(c){c.stopPropagation();g.PI(M.element,"ytp-ce-element-hover");g.PI(M.element,"ytp-ce-force-expand")});
M.listen("keydown",function(c){w.B3=c.keyCode===9&&!c.shiftKey});
u(g.fj("ytp-sb-subscribe",M.element));u(g.fj("ytp-sb-unsubscribe",M.element));M.listen("focus",U);M.listen("blur",f)},ad4=function(w,M,P){if(M.targetUrl&&(!P||P.type!=="keypress"||P.keyCode===13)){for(var u=P.target;u&&!g.w1(u,"ytp-ce-element");){g.w1(u,"subscribe-label")&&wAj(w,M);
if(g.w1(u,"ytp-ce-channel-subscribe"))return;u=u.parentElement||null}if(!u||g.w1(u,"ytp-ce-element-hover")){P.preventDefault();P.stopPropagation();if(u=w.L[M.id])OSE(w,u,M),u.element.blur();if(P.ctrlKey||P.metaKey||M.Xv$==="new")wAj(w,M),w.player.sendVideoStatsEngageEvent(17,void 0),w.player.pauseVideo(),P=g.W1(I_(w,M.targetUrl)),P=g.Xj(P),g.vj(P,void 0,M.sessionData);else{var X=g.fp(w.player.N())||w.player.getVideoData().Ym,U=function(){var f=I_(w,M.targetUrl),h=M.sessionData,c=M.watchEndpoint,Z=
g.w$(f);X&&Z&&(Z.v||Z.list)?w.player.Hx(Z.v,h,Z.list,!1,void 0,c||void 0):g.nW(f,h)};
wAj(w,M,function(){w.player.sendVideoStatsEngageEvent(17,U)})}}}},I_=function(w,M){w=w.player.N();
if(M){if(M.startsWith("//"))return w.protocol+":"+M;if(M.startsWith("/"))return g.FD(w)+M}else return"";return M},xqx=function(w,M,P){g.w1(M.element,"ytp-ce-element-hover")||(P.type==="VIDEO"||P.type==="PLAYLIST"?g.io(M.element,"ytp-ce-element-hover"):w.player.N().L?(new g.gV(function(){g.io(M.element,"ytp-ce-element-hover")},200)).start():g.io(M.element,"ytp-ce-element-hover"),gm(w,P.cz),AV(w,P.id,!0))},OSE=function(w,M,P){g.PI(M.element,"ytp-ce-element-hover");
g.PI(M.element,"ytp-ce-force-expand");AV(w,P.id,!1)},AV=function(w,M,P){w.C&&(P?w.G.show():w.G.hide());
for(var u=g.G(Object.keys(w.L)),X=u.next();!X.done;X=u.next())X=X.value,X!==M&&g.X6(w.L[X].element,"ytp-ce-element-shadow-show",P)},gm=function(w,M,P){function u(){U||(X++,X===M.length&&(f.stop(),P&&P()))}
if(!M||M.length===0||sF(w))P&&P();else{M=iPU(w,M);var X=0,U=!1,f=new g.gV(function(){U=!0;P&&P()},1E3,w);
f.start();for(w=0;w<M.length;w++)g.Ld(M[w],u)}},wAj=function(w,M,P){gm(w,M.clickUrls,P);
(w=g.En())&&M.y3&&g.xq(w,M.visualElement)},iPU=function(w,M){var P=w.player.getVideoData().clientPlaybackNonce;
w=w.player.getCurrentTime().toFixed(2);P={CPN:P,AD_CPN:P,MT:w};w=[];for(var u=0;u<M.length;u++)w.push(MM3(M[u],P));return w},MM3=function(w,M){return w.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(P){var u=unescape(P);
u=u.substring(1,u.length-1);return M[u]?escape(M[u]):P})},PCV=function(w){return typeof w==="string"?w:""},JV=function(w,M,P){for(var u in M)if(M[u]===w)return w;
return P},uvA=function(w,M,P,u){this.value=w;
this.target=M;this.showLinkIcon=P;this.B=u},rm=function(w){return w.value?w.value:null},jk=function(w){if(!w)return null;
var M=g.W1(PCV(w.value));M=g.Xj(M);if(!M)return null;var P=JV(w.target,XAA,"current");if(P==null)w=null;else{var u=w.show_link_icon;w=new uvA(M,P,u==="true"||u==="false"?u==="true":!0,w.pause_on_navigation!=null?w.pause_on_navigation:!0)}return w},$G4=function(w,M,P){this.type=w;
this.trigger=M;this.url=P},Wc3=function(w){if(!w)return null;
var M=JV(w.type,UG$),P=JV(w.trigger,f3E);w=w.url;w=Array.isArray(w)&&w.length?w[0]:w;w=jk(w?w:null);return M?new $G4(M,P,w):null},h4t=function(w,M,P,u,X){this.id=w;
this.type=M;this.style=P;this.data=X;this.action=u||[]},cvE=function(w,M){return g.Nj(w.action,M)},ZPt=function(w,M){this.context=w;
this.B=M},Sb4=function(w){return w.customMessage?Cl("div","iv-card-message",w.customMessage):""},tV=function(w,M){w="background-image: url("+w+");";
var P=[];M&&P.push(M);return{W:"div",T:"iv-card-image",Z:{style:w},J:P}},HPc=function(w){if(!w.metaInfo||w.metaInfo.length===0)return"";
var M=[];w=g.G(w.metaInfo);for(var P=w.next();!P.done;P=w.next())M.push(Cl("li","",P.value));return{W:"ul",T:"iv-card-meta-info",J:M}},Cl=function(w,M,P){M?typeof M==="string"?M={"class":M}:Array.isArray(M)&&(M={"class":M.join(" ")}):M={};
M.dir=g.cI(P);return{W:w,Z:M,pu:P}},pAC=function(w){if(!w.customMessage)return"";
var M=["iv-card-action","iv-card-primary-link"],P={};w.Qi&&(M.push("iv-card-action-icon"),P.style="background-image: url("+w.Qi+");");P.dir=g.cI(w.customMessage);var u=[{W:"span",pu:w.customMessage}];w.showLinkIcon&&(u.push("\u00a0"),u.push({W:"span",T:"iv-card-link-icon"}));return{W:"div",d$:M,Z:P,J:u}},xK=function(w,M,P,u){if(u){M=g.G(M);
for(var X=M.next();!X.done;X=M.next())w.B(X.value,u,P.id,P.sessionData,P.p6.click,5)}},Fcc=function(w,M){this.merchant=w;
this.price=M},E$A=function(w){var M;
(M=w)&&!(M=w.length>1?w.charAt(0)==="/"&&w.charAt(1)!=="/":w==="/")&&(M=w.replace(/^(https?:)?\/\//,"").split("/",1),M=!M||M.length<1||!M[0]?[]:M[0].toLowerCase().split(".").reverse(),M=M[0]==="com"&&M[1]==="youtube"||M[0]==="be"&&M[1]==="youtu");return M?w.indexOf("/redirect?")===-1:!1},Nxh=function(w,M){return M?M:E$A(w)?"current":"new"},OF=function(w,M){g.v.call(this);
var P=this;this.element=w;this.context=M;this.Z3=!1;this.t9=new Map;this.Yu=new Map;this.context.U.addEventListener(g.AP("annotations_module"),function(u){(u=P.t9.get(u))&&u.apply(P)});
this.context.U.addEventListener(g.gL("annotations_module"),function(u){(u=P.Yu.get(u))&&u.apply(P)})},a_=function(w,M,P,u,X,U,f){w.context.B.listen(M,"click",function(h){w.PU(P,u,X,U||[],f||0,h)});
w.context.B.listen(M,"touchstart",function(){w.Z3=!1});
w.context.B.listen(M,"touchmove",function(){w.Z3=!0})},VMh=function(w){var M;
return((M=g.A(w,g.lu))==null?0:M.url)?g.A(w,g.lu).url:(w=g.A(w,g.c7))&&w.videoId?(M="/watch?v="+w.videoId,w.playlistId&&(M+="&list="+w.playlistId),w.index&&(M+="&index="+w.index),w.startTimeSeconds&&(M+="&t="+w.startTimeSeconds),M):null},wz=function(w,M,P){return{ZL:(w.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
click:(P.loggingUrls||[]).map(function(u){return u.baseUrl||""}),
close:(M.dismissLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
ll:(M.impressionLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""}),
Dy:(M.clickLoggingUrlsV2s||[]).map(function(u){return u.baseUrl||""})}},mGa=function(w,M,P){OF.call(this,M,P);
var u=this;this.U=w;this.eventId=null;this.fg=this.UO=this.M7=this.C=this.isInitialized=!1;this.cards=[];this.bW=this.V=this.xu=this.G=this.OO=this.B=null;this.B3=[];this.Lu=this.j=this.bC=this.Cu=null;this.K=0;this.ys=new g.gV(function(){},P.P3.bI?4E3:3E3);
g.b(this,this.ys);this.iW=new g.gV(function(){});
g.b(this,this.iW);this.mN=new ZPt(P,function(X,U,f,h,c,Z){a_(u,X,U,f,h,c,Z)});
this.S=new g.r({W:"div",T:"iv-drawer",Z:{id:"iv-drawer"},J:[{W:"div",T:"iv-drawer-header",Z:{"aria-role":"heading"},J:[{W:"span",T:"iv-drawer-header-text"},{W:"button",d$:["iv-drawer-close-button","ytp-button"],Z:{"aria-label":"Hide cards",tabindex:"0"}}]},{W:"div",T:"iv-drawer-content"}]});g.b(this,this.S);this.X=this.S.element;this.jL=new g.Cf(this.S,330);g.b(this,this.jL);this.cj=g.fj("iv-drawer-header-text",this.X);this.L=g.fj("iv-drawer-content",this.X);this.addCueRange(0,P.videoData.lengthSeconds*
1E3,"",function(){u.M7&&i$(u,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(u.M7=u.C)&&Mt(u)});
this.eL=new g.V2(this);g.b(this,this.eL);this.U.addEventListener("videodatachange",this.FG.bind(this))},o$p=function(w,M){M=M.data;
M.autoOpenMs&&w.addCueRange(M.autoOpenMs,0x8000000000000,"",function(){i$(w,"YOUTUBE_DRAWER_AUTO_OPEN")});
M.autoCloseMs&&w.addCueRange(M.autoCloseMs,0x8000000000000,"",function(){Mt(w)});
var P=M.headerText;g.oU(w.cj,P);w.V&&w.V.setAttribute("title",P);M.eventId&&(w.eventId=M.eventId);w.Cu=g.Hm(M.trackingParams);w.j=g.Hm(M.closeTrackingParams);w.bC=g.Hm(M.iconTrackingParams)},GBc=function(w,M){var P=M.cardId?M.cardId:"cr:"+w.K,u=w.U.N().experiments.nu("enable_error_corrections_infocard_web_client");
if(!M.content&&M.teaser.simpleCardTeaserRenderer&&u){var X=M.teaser.simpleCardTeaserRenderer,U=M.icon?M.icon.infoCardIconRenderer:null;if(X.channelAvatar&&X.channelAvatar.thumbnails&&X.channelAvatar.thumbnails.length>0)var f=P3(X.channelAvatar.thumbnails,22,22).url;M={id:P,timestamp:w.K,type:"simple",teaserText:g.ff(X.message),teaserDurationMs:Number(M.cueRanges[0].teaserDurationMs),startMs:Number(M.cueRanges[0].startCardActiveMs),autoOpen:!!M.autoOpen,sessionData:{},sponsored:!1,p6:{},Oe:null,iI:X.trackingParams?
g.Hm(X.trackingParams):null,bC:U&&U.trackingParams?g.Hm(U.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,Qi:null,title:"",customMessage:"",url:null,onClickCommand:X.onTapCommand||null,wN:f};u$(w,M)}else{var h;if((h=M.content)==null?0:h.simpleCardContentRenderer){if(!M.cueRanges.length)return;f=(X=M.content)==null?void 0:X.simpleCardContentRenderer;X=M.teaser.simpleCardTeaserRenderer;U=M.icon?M.icon.infoCardIconRenderer:null;M={id:P,timestamp:w.K,type:"simple",teaserText:g.ff(X.message),
teaserDurationMs:Number(M.cueRanges[0].teaserDurationMs),startMs:Number(M.cueRanges[0].startCardActiveMs),autoOpen:!!M.autoOpen,sessionData:Xz(w,P,M,f),sponsored:!1,p6:wz(f,X,f.command),Oe:f.trackingParams?g.Hm(f.trackingParams):null,iI:X.trackingParams?g.Hm(X.trackingParams):null,bC:U&&U.trackingParams?g.Hm(U.trackingParams):null,imageUrl:P3(f.image.thumbnails,290,290).url,displayDomain:f.displayDomain?g.ff(f.displayDomain):null,showLinkIcon:!!f.showLinkIcon,Qi:null,title:f.title?g.ff(f.title):"",
customMessage:f.callToAction?g.ff(f.callToAction):"",url:g.A(f.command,g.lu).url?jk({pause_on_navigation:!w.context.videoData.isLivePlayback,target:"new",value:g.A(f.command,g.lu).url}):null,onClickCommand:null};u$(w,M)}else{var c;if((c=M.content)==null?0:c.collaboratorInfoCardContentRenderer){if(!M.cueRanges.length)return;f=(U=M.content)==null?void 0:U.collaboratorInfoCardContentRenderer;X=M.teaser.simpleCardTeaserRenderer;U=M.icon?M.icon.infoCardIconRenderer:null;M={id:P,timestamp:w.K,type:"collaborator",
teaserText:g.ff(X.message),teaserDurationMs:Number(M.cueRanges[0].teaserDurationMs),startMs:Number(M.cueRanges[0].startCardActiveMs),autoOpen:!!M.autoOpen,sessionData:Xz(w,P,M,f),sponsored:!1,p6:wz(f,X,f.endpoint),Oe:f.trackingParams?g.Hm(f.trackingParams):null,iI:X.trackingParams?g.Hm(X.trackingParams):null,bC:U&&U.trackingParams?g.Hm(U.trackingParams):null,channelId:g.A(f.endpoint,g.nk).browseId,customMessage:f.customText?g.ff(f.customText):null,profileImageUrl:P3(f.channelAvatar.thumbnails,290,
290).url,title:f.channelName?g.ff(f.channelName):"",metaInfo:[f.subscriberCountText?g.ff(f.subscriberCountText):""],url:jk({pause_on_navigation:!w.context.videoData.isLivePlayback,target:"new",value:g.A(f.endpoint,g.nk).canonicalBaseUrl?g.A(f.endpoint,g.nk).canonicalBaseUrl:"/channel/"+g.A(f.endpoint,g.nk).browseId}),onClickCommand:null};u$(w,M)}else{var Z;if((Z=M.content)==null?0:Z.playlistInfoCardContentRenderer){if(!M.cueRanges.length)return;var S;f=(S=M.content)==null?void 0:S.playlistInfoCardContentRenderer;
X=M.teaser.simpleCardTeaserRenderer;U=M.icon?M.icon.infoCardIconRenderer:null;M={id:P,timestamp:w.K,type:"playlist",teaserText:g.ff(X.message),teaserDurationMs:Number(M.cueRanges[0].teaserDurationMs),startMs:Number(M.cueRanges[0].startCardActiveMs),autoOpen:!!M.autoOpen,sessionData:Xz(w,P,M,f),sponsored:!1,p6:wz(f,X,f.action),Oe:f.trackingParams?g.Hm(f.trackingParams):null,iI:X.trackingParams?g.Hm(X.trackingParams):null,bC:U&&U.trackingParams?g.Hm(U.trackingParams):null,TF:P3(f.playlistThumbnail.thumbnails,
258,290).url,customMessage:f.customMessage?g.ff(f.customMessage):null,playlistVideoCount:g.ff(f.playlistVideoCount),title:f.playlistTitle?g.ff(f.playlistTitle):"",metaInfo:[f.channelName?g.ff(f.channelName):"",f.videoCountText?g.ff(f.videoCountText):""],url:jk({pause_on_navigation:!w.context.videoData.isLivePlayback,target:"new",value:VMh(f.action)}),onClickCommand:null};u$(w,M)}else{var H;if((H=M.content)==null?0:H.videoInfoCardContentRenderer){if(!M.cueRanges.length)return;var p;f=(p=M.content)==
null?void 0:p.videoInfoCardContentRenderer;X=M.teaser.simpleCardTeaserRenderer;U=M.icon?M.icon.infoCardIconRenderer:null;M={id:P,timestamp:w.K,type:"video",teaserText:g.ff(X.message),teaserDurationMs:Number(M.cueRanges[0].teaserDurationMs),startMs:Number(M.cueRanges[0].startCardActiveMs),autoOpen:!!M.autoOpen,sessionData:Xz(w,P,M,f),sponsored:!1,p6:wz(f,X,f.action),Oe:f.trackingParams?g.Hm(f.trackingParams):null,iI:X.trackingParams?g.Hm(X.trackingParams):null,bC:U&&U.trackingParams?g.Hm(U.trackingParams):
null,TF:P3(f.videoThumbnail.thumbnails,258,290).url,videoDuration:f.lengthString?g.ff(f.lengthString):null,customMessage:f.customMessage?g.ff(f.customMessage):null,title:f.videoTitle?g.ff(f.videoTitle):"",metaInfo:[f.channelName?g.ff(f.channelName):"",f.viewCountText?g.ff(f.viewCountText):""],isLiveNow:!!f.badge,url:jk({pause_on_navigation:!w.context.videoData.isLivePlayback,target:"new",value:VMh(f.action)}),onClickCommand:null};u$(w,M)}}}}}w.K++},P3=function(w,M,P){for(var u=-1,X=-1,U=0;U<w.length;U++){if(w[U].height===
M||w[U].width===P)return w[U];
((w[U].height||0)<M||(w[U].width||0)<P)&&(u<0||(w[u].height||0)<(w[U].height||0)||(w[u].width||0)<(w[U].width||0))?u=U:((w[U].height||0)>=M||(w[U].width||0)>=P)&&(X<0||(w[X].height||0)>(w[U].height||0)||(w[X].width||0)>(w[U].width||0))&&(X=U)}return w[X>=0?X:u]},Xz=function(w,M,P,u){return{feature:P.feature?P.feature:"cards",
src_vid:w.context.videoData.videoId,annotation_id:M,ei:w.context.videoData.eventId||"",itct:u.trackingParams||""}},DGU=function(w,M){if(M=yvU(w,M))M===w.B&&(w.B=null),w.U.removeCueRange(M.uC.id),g.Vy(M.Wr),g.D4(w.cards,M),w.Et(),$i(w)},i$=function(w,M,P){if(!w.C){w.jL.show();
w.OO=new g.gV(function(){g.io(w.context.U.getRootNode(),g.Eq.IV_DRAWER_OPEN)},0);
w.OO.start();w.eL.Y(w.L,"mousewheel",function(f){w.ys.start();f.preventDefault();f=f||window.event;var h=0;f.type=="MozMousePixelScroll"?h=0==(f.axis==f.HORIZONTAL_AXIS)?f.detail:0:window.opera?h=f.detail:h=f.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?f.wheelDeltaY/-30:f.wheelDeltaY/-1.2:f.wheelDelta/-1.6:f.wheelDeltaY/-3;if(f=h)w.L.scrollTop+=f});
w.C=!0;var u=g.En();u&&w.Cu&&w.j&&g.Cq(u,[w.Cu,w.j]);M={TRIGGER_TYPE:M};for(var X=g.G(w.cards),U=X.next();!U.done;U=X.next())U=U.value,U.T$||(U.T$=!0,qb$(w.context.logger,U.uC.p6.ZL,M)),u&&g.Cq(u,[U.uC.Oe]);lH(w.U);P&&(w.G=new g.gV(function(){w.xu=w.V;w.bW.focus()},330),w.G.start())}},Mt=function(w){w.C&&(w.jL.hide(),g.qi(w.eL),g.PI(w.context.U.getRootNode(),g.Eq.IV_DRAWER_OPEN),w.C=!1,lH(w.U),w.G&&w.G.stop(),w.G=new g.gV(function(){w.xu&&(w.xu.focus(),w.xu=null)},330),w.G.start())},YbV=function(w){g.MB(w.vj(),
[g.Eq.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.bD(w.U,w.X,5);w.zT();w.V=g.fj("ytp-cards-button",w.U.getRootNode());w.bW=g.fj("iv-drawer-close-button",w.X);w.isInitialized=!0},z4E=function(w){w.B3.push(g.ti("iv-teaser-shown",w.Od,w));
w.B3.push(g.ti("iv-teaser-hidden",w.lw,w));w.B3.push(g.ti("iv-teaser-clicked",w.h0,w));w.fg=!0},TxC=function(w,M){var P;
return M.onClickCommand&&((P=g.A(M.onClickCommand,g.$EC))==null?void 0:P.targetId)==="engagement-panel-error-corrections"?(w.Lu=M,!0):!1},dGC=function(w,M){w.Lu=M;
var P=w.U.getVideoData();if(!P)return!1;P=g.s_(P);if(P==null?0:P.markersMap)for(var u,X=0;((u=P)==null?void 0:u.markersMap.length)>X;X++){var U=void 0,f=(U=P)==null?void 0:U.markersMap[X];if(f.key==="ERROR_CORRECTION_MARKERS"&&(U=void 0,(f=(U=f.value)==null?void 0:U.markers)&&f.length>0))return u=void 0,M.startMs=((u=g.A(f[0],g.JV1))==null?void 0:u.timeRangeStartMillis)||0,w.Lu=null,!0}return!1},u$=function(w,M){if(!TxC(w,M)||dGC(w,M)){var P=l3V(w,M);
if(P){var u={uC:M,Wr:P.element,T$:!1};if(M.onClickCommand)w.U.D("web_infocards_teaser_show_logging_fix")&&(w.fg||z4E(w),DGU(w,M.id),P=w.findLastIndex(u),g.va(w.cards,P,0,u));else{w.isInitialized||YbV(w);DGU(w,M.id);var X=w.findLastIndex(u);g.va(w.cards,X,0,u);P.XK(w.L,X);w.Et()}M.autoOpen?w.addCueRange(M.startMs,0x8000000000000,M.id,function(){w.C||(w.B=u,$i(w),LcC(w,u),i$(w,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(P=w.context.U.getCurrentTime()*1E3,P<5E3&&P>M.startMs&&e4E(w,u),w.addCueRange(M.startMs,
M.startMs+1,M.id,function(){e4E(w,u)}),$i(w))}}},l3V=function(w,M){switch(M.type){case "simple":w=w.mN;
var P=M.displayDomain?{W:"div",T:"iv-card-image-text",pu:M.displayDomain}:void 0;var u=pAC(M);P={W:"div",d$:["iv-card"],J:[{W:"a",T:"iv-click-target",Z:{href:M.url?rm(M.url)||"":""},J:[tV(M.imageUrl,P),{W:"div",T:"iv-card-content",J:[Cl("h2",void 0,M.title),u]}]}]};P=new g.r(P);xK(w,g.$f("iv-click-target",P.element),M,M.url);M=P;break;case "collaborator":w=w.mN;P={W:"div",d$:["iv-card","iv-card-channel"],J:[{W:"a",d$:["iv-click-target"],Z:{href:rm(M.url)||"","data-ytid":M.channelId},J:[tV(M.profileImageUrl),
{W:"div",T:"iv-card-content",J:[Sb4(M),{W:"h2",T:"iv-card-primary-link",pu:M.title},HPc(M)]}]}]};P=new g.r(P);xK(w,g.$f("iv-click-target",P.element),M,M.url);M=P;break;case "playlist":w=w.mN;P={W:"div",d$:["iv-card","iv-card-playlist"],J:[{W:"a",T:"iv-click-target",Z:{href:rm(M.url)||""},J:[tV(M.TF,{W:"div",T:"iv-card-image-overlay",J:[{W:"span",T:"iv-card-playlist-video-count",pu:M.playlistVideoCount}]}),{W:"div",T:"iv-card-content",J:[Sb4(M),Cl("h2","iv-card-primary-link",M.title),HPc(M)]}]}]};
P=new g.r(P);xK(w,g.$f("iv-click-target",P.element),M,M.url);M=P;break;case "productListing":w=w.mN;var X=M.offers.length!=0;P=["iv-card"];u="";var U=pAC(M);X&&(P.push("iv-card-product-listing"),u="iv-card-primary-link",U=M.offers[0],X=[],U.price&&X.push({W:"div",T:"iv-card-offer-price",pu:U.price}),U.merchant&&X.push({W:"div",T:"iv-card-offer-merchant",pu:U.merchant}),U={W:"div",J:X});X=M.url?rm(M.url)||"":"";P={W:"div",d$:P,Z:{tabindex:"0"},J:[{W:"a",d$:["iv-card-image","iv-click-target"],Z:{style:"background-image: url("+
M.imageUrl+");",href:X,"aria-hidden":"true",tabindex:"-1"}},{W:"div",T:"iv-card-content",J:[M.sponsored?{W:"div",T:"iv-card-sponsored",J:["Sponsored",{W:"div",T:"iv-ad-info-container",J:[{W:"div",T:"iv-ad-info",pu:"{{adInfo}}"},{W:"div",T:"iv-ad-info-icon-container",J:[{W:"div",T:"iv-ad-info-icon"},{W:"div",T:"iv-ad-info-callout"}]}]}]}:"",{W:"a",T:"iv-click-target",Z:{href:X},J:[Cl("h2",u,M.title),U]}]}]};P=new g.r(P);u=g.HS("span");g.oU(u,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
P.iB(u,"adInfo");xK(w,g.$f("iv-click-target",P.element),M,M.url);M=P;break;case "video":w=w.mN;u=M.videoDuration?{W:"span",T:"iv-card-video-duration",pu:M.videoDuration}:void 0;U=M.isLiveNow?{W:"span",d$:["yt-badge","yt-badge-live"],pu:"LIVE NOW"}:null;X={W:"div",d$:["iv-card","iv-card-video"],J:[{W:"a",T:"iv-click-target",Z:{href:((P=M.url)==null?void 0:rm(P))||""},J:[tV(M.TF,u),{W:"div",T:"iv-card-content",J:[Sb4(M),Cl("h2","iv-card-primary-link",M.title),HPc(M),U]}]}]};P=new g.r(X);xK(w,g.$f("iv-click-target",
P.element),M,M.url);M=P;break;default:return null}return M},Bxp=function(w){if(w.B)return w.B.uC.type==="productListing";
if(w.U.D("enable_wn_infocards")){var M;return!((M=w.cards)==null||!M.length)&&g.Nq(w.cards,function(P){return P.uC.type==="productListing"})}return g.Nq(w.cards,function(P){return P.uC.type==="productListing"})},$i=function(w){g.X6(w.U.getRootNode(),"ytp-cards-shopping-active",Bxp(w))},e4E=function(w,M){if(!g.w1(w.U.getRootNode(),"ytp-cards-teaser-shown")){if(w.B!==M){var P=g.En(),u=w.B?w.B.uC.bC:w.bC;
P&&u&&g.tg(P,[u]);w.B=M;$i(w)}(P=w.isInitialized&&w.vj().style.display=="none")||(P=w.context.U.getPlayerState(),u=P===0&&w.context.U.getCurrentTime()===0,P=!(P===1||P===3||u));if(!P&&M.uC.teaserDurationMs){var X;P={teaserText:M.uC.teaserText,durationMs:M.uC.teaserDurationMs,onClickCommand:M.uC.onClickCommand,wN:(X=M.uC.wN)!=null?X:null};w.U.Oa(!0,P)}w.iW.isActive()||((!w.C||!w.ys.isActive()&&w.UO)&&LcC(w,M),w.iW.start(910+M.uC.teaserDurationMs))}},LcC=function(w,M){w.S.J9?(M=new kK([0,
w.L.scrollTop],[0,M.Wr.offsetTop],600,swj),w.context.C.listen(M,"animate",function(P){w.L.scrollTop=P.y}),w.context.C.listen(M,"finish",function(P){w.L.scrollTop=P.y}),M.play()):(w.S.AD(!0),w.L.scrollTop=M.Wr.offsetTop,w.S.AD(!1))},U3=function(w){return w.B&&w.B.uC?w.B.uC:w.cards[0]&&w.cards[0].uC?w.cards[0].uC:null},yvU=function(w,M){return g.Nj(w.cards,function(P){return P.uC.id===M})},fV=function(w,M,P){OF.call(this,w,M);
this.annotation=P;this.isActive=!1},Q9c=function(w){var M=w.annotation.data;
"start_ms"in M&&"end_ms"in M&&w.addCueRange(Number(M.start_ms),Number(M.end_ms),w.annotation.id,function(){w.show()},function(){w.hide()})},W3=function(w,M,P){fV.call(this,w,M,P);
this.L=null;this.j=!1;this.C=null;this.X=!1;this.B=this.K=this.G=null},kBE=function(w,M){var P=P===void 0?0:P;
var u=ldc(M).width;g.t1(M,u);P=new nw3(M,[u,M.offsetTop],[u-u-P,M.offsetTop],200,vwA);g.b(w,P);w.context.C.listen(P,"begin",function(){g.Mq(M,!0)});
P.play()},v$E=function(w,M){if(M.channel_name){var P=w.createElement({W:"div",
d$:["iv-branding-context-name"],pu:M.channel_name}),u=w.createElement({W:"div",d$:["iv-branding-context-subscribe"]}),X=M.standalone_subscribe_button_data;X&&(w.B=new g.Pc(X.subscribeText,X.subscribeCount,X.unsubscribeText,X.unsubscribeCount,!!X.enabled,!!X.classic,M.channel_id,!!X.subscribed,X.feature,M.session_data.itct,w.context.U,!1),w.B.XK(u));var U=w.createElement({W:"div",d$:["iv-branding-context-subscribe-caret"]}),f=w.createElement({W:"div",d$:["branding-context-container-inner"]});f.appendChild(U);
f.appendChild(P);f.appendChild(u);g.Mq(f,!1);var h=w.createElement({W:"div",d$:["branding-context-container-outer"]});h.appendChild(f);g.A1(h,"right",M.image_width+"px");g.FU(w.vj(),h);w.C=new g.gV(function(){R4j(w,f,h)},500);
g.b(w,w.C);w.context.B.listen(w.vj(),"mouseover",function(){n$A(w,f,h,U,M.image_height)});
w.context.B.listen(w.vj(),"mouseout",function(){w.C.start()})}},n$A=function(w,M,P,u,X){w.C.stop();
if(!w.X){var U=g.iy(M);w.B||(M.style.width=g.Cj(U.width,!0),P.style.width=g.Cj(U.width,!0));g.A1(u,"top",U.height-Math.max(Math.min(U.height,X)/2+10,20)+"px");g.A1(u,"right","1px");w.X=!0;g.Mq(M,!0);w.G=new g.gV(function(){g.io(this.vj(),"iv-branding-active")},0,w);
w.G.start()}},R4j=function(w,M,P){g.PI(w.vj(),"iv-branding-active");
w.K=new g.gV(function(){g.Mq(M,!1);w.B||(P.style.width=g.Cj(0,!0))},250);
w.K.start();w.X=!1},s9$=function(w,M,P,u,X,U,f){this.B=w;
this.C=M;this.P3=P;this.videoData=u;this.logger=X;this.U=U;this.L=f},KcE=function(w,M,P){fV.call(this,w,M,P);
var u=this;this.V=this.isCollapsed=this.S=!1;this.K=5E3;this.L=this.C=this.B=this.X=null;this.j=this.createElement({W:"div",d$:["iv-promo-contents"]});this.G=new g.gV(function(){u.B.setAttribute("aria-hidden","true");g.Mq(u.C,!1);g.Mq(u.L,!0)},700,this);
g.b(this,this.G)},I33=function(w){var M=w.annotation.data;
if(w.annotation.style==="cta")var P=6;else if(w.annotation.style==="video"||w.annotation.style==="playlist")P=7;w.K=M.collapsedelay_ms||w.K;var u=["iv-promo","iv-promo-inactive"];w.vj().setAttribute("aria-hidden","true");w.vj().setAttribute("aria-label","Promotion");w.vj().tabIndex=0;var X=w.annotation.xa(),U=M.image_url;if(U){var f=w.createElement({W:"div",d$:["iv-promo-img","iv-click-target"]});U=w.createElement({W:"img",Z:{src:U,"aria-hidden":"true"}});f.appendChild(U);M.video_duration&&!M.is_live?
(U=w.createElement({W:"span",T:"iv-promo-video-duration",pu:M.video_duration}),f.appendChild(U)):M.playlist_length&&(U=w.createElement({W:"span",T:"iv-promo-playlist-length",pu:M.playlist_length.toString()}),f.appendChild(U));X&&a_(w,f,X,w.annotation.id,M.session_data,void 0,P)}X?(U=w.createElement({W:"a",T:"iv-promo-txt"}),g.c1(U,rm(X)),w.B=U):w.B=w.createElement({W:"div",T:"iv-promo-txt"});switch(w.annotation.style){case "cta":case "website":var h=w.createElement({W:"p",J:[{W:"strong",pu:M.text_line_1}]});
var c=w.createElement({W:"p",J:[{W:"span",T:"iv-promo-link",pu:M.text_line_2}]});if(U=M.text_line_3){u.push("iv-promo-website-card-cta-redesign");var Z=w.createElement({W:"button",d$:["iv-promo-round-expand-icon","ytp-button"]});U=w.createElement({W:"button",d$:["iv-button","iv-promo-button"],J:[{W:"span",T:"iv-button-content",pu:U}]});var S=w.createElement({W:"div",T:"iv-promo-button-container"});S.appendChild(U);X&&a_(w,w.vj(),X,w.annotation.id,M.session_data,void 0,P)}g.io(w.B,"iv-click-target");
X&&a_(w,w.B,X,w.annotation.id,M.session_data,void 0,P);break;case "playlist":case "video":h=w.createElement({W:"p",J:[{W:"span",pu:M.text_line_1}]}),c=w.createElement({W:"p",J:[{W:"strong",pu:M.text_line_2}]}),M.is_live&&(h=c,c=w.createElement({W:"span",d$:["yt-badge","iv-promo-badge-live"],pu:"LIVE NOW"})),g.io(w.B,"iv-click-target"),X&&a_(w,w.B,X,w.annotation.id,M.session_data,void 0,P),u.push("iv-promo-video")}h&&w.B.appendChild(h);c&&w.B.appendChild(c);w.j.appendChild(w.B);S&&w.j.appendChild(S);
P=w.createElement({W:"div",T:"iv-promo-actions"});w.L=w.createElement({W:"button",d$:["iv-promo-expand","ytp-button"]});w.L.title="Expand";w.context.B.listen(w.L,"click",function(H){bPU(w,5E3,H)});
P.appendChild(w.L);g.Mq(w.L,!1);w.context.B.listen(w.vj(),"mouseover",w.OU,w);w.context.B.listen(w.vj(),"mouseout",w.hE,w);w.context.B.listen(w.vj(),"touchend",function(H){bPU(w,5E3,H)});
w.C=w.createElement({W:"button",d$:["iv-promo-close","ytp-button"]});w.C.title="Close";w.context.B.listen(w.C,"click",w.annotation.style==="cta"&&M.text_line_3?w.sU:w.kZ,w);P.appendChild(w.C);g.MB(w.vj(),u);f&&(g.FU(w.vj(),f),Z&&f.appendChild(Z));g.FU(w.vj(),w.j);g.FU(w.vj(),P)},bPU=function(w,M,P){P.stopPropagation();
Avt(w);g$U(w,M);w.B.focus()},Jva=function(w){w.isCollapsed||w.V||w.X||(g.io(w.vj(),"iv-promo-collapsed"),w.isCollapsed=!0,w.G.start())},Avt=function(w){w.G.stop();
w.isCollapsed&&(g.uo(w.vj(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),w.isCollapsed=!1,w.B&&w.B.removeAttribute("aria-hidden"),g.Mq(w.L,!1),g.Mq(w.C,!0))},g$U=function(w,M){w.X||(w.X=g.BX(function(){rvE(this);
Jva(this)},M,w))},rvE=function(w){w.X&&(g.aF.clearTimeout(w.X),w.X=null)},j9$=function(w){this.U=w},qb$=function(w,M,P){M&&(P?hs(w,M.map(function(u){return g.YO(u,P)})):hs(w,M))},hs=function(w,M,P,u){var X=1,U=void 0,f=-1;
if(P){var h=!1;U=function(){X--;X||h||(clearTimeout(f),h=!0,P())};
f=setTimeout(function(){h=!0;P()},1E3)}M=g.G(M||[]);
for(var c=M.next();!c.done;c=M.next())c=c.value,X++,g.Ld(c,U);u&&(X++,u!==0&&w.U.sendVideoStatsEngageEvent(u,U))},CCA=function(w){g.D0.call(this,w);
var M=this;this.B3=this.V=!1;this.loadNumber=0;this.K={};this.logger=new j9$(this.player);this.X=new g.V2(this);this.G=this.j=null;this.events=new g.V2(this);this.EH=this.S=this.B=null;this.Lu=[];g.b(this,this.X);this.X.Y(this.player,"onVideoAreaChange",function(){M.publish("onVideoAreaChange")});
this.X.Y(this.player,"onHideControls",function(){M.publish("onHideControls")});
this.X.Y(this.player,"onShowControls",function(){M.publish("onShowControls")});
this.X.Y(this.player,"resize",function(u){M.publish("resize",u)});
this.X.Y(this.player,"presentingplayerstatechange",function(u){M.publish("presentingplayerstatechange",u)});
this.subscribe("presentingplayerstatechange",this.gR,this);this.subscribe("resize",this.cD,this);this.player.N().UO.subscribe("vast_info_card_add",this.SP,this);g.b(this,this.events);this.mN=this.createElement({W:"div",T:"video-custom-annotations"});this.L=new g.r({W:"div",d$:["ytp-player-content","ytp-iv-player-content"]});g.b(this,this.L);g.bD(this.player,this.L.element,4);this.L.hide();this.C=new g.r({W:"div",d$:["ytp-iv-video-content"]});g.b(this,this.C);w=this.createElement({W:"div",T:"video-annotations"});
w.appendChild(this.mN);this.C.element.appendChild(w);this.iP()&&this.load();var P=this.createElement({W:"style"});(g.XU("HEAD")[0]||document.body).appendChild(P);this.addOnDisposeCallback(function(){g.Vy(P)});
if(w=P.sheet)w.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),w.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),w.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),w.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),w.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),w.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),w.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),w.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),w.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),w.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},tME=function(w){w=w.createElement({W:"div",
d$:["annotation","annotation-type-custom"]});g.Mq(w,!1);return w},xGt=function(w,M){M=!M.isCued()&&!g.C(M,1024);
w.L.AD(M);w.C.AD(M)},OPV=function(w,M,P){w.V=!0;
w.G=g.o1(M,P)},a3E=function(w,M){for(var P={},u=g.G(M.attributes),X=u.next();!X.done;X=u.next())X=X.value,P[X.name]=X.nodeValue;
for(u=0;u<M.childNodes.length;u++)if(X=M.childNodes[u],g.XE(X)&&X.nodeType==1){if(P[X.tagName])var U=P[X.tagName];else if(X.tagName==="data"){X.childNodes.length>0&&(U=X.childNodes[0].nodeValue,P[X.tagName]=typeof U==="string"?U.trim():U);continue}else U=[],P[X.tagName]=U;X&&X.tagName==="TEXT"?X.childNodes.length===1&&X.childNodes[0].nodeType===3?U.push(X.childNodes[0].nodeValue):U.push(""):X&&U.push(a3E(w,X))}return P},PeA=function(w){var M=w.player.getVideoData();
if(M.eL){var P=w.player.N().UO.get(M.videoId);if(P){var u={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(X,U,f){X=w.loadNumber;U=M.videoId;w.loaded&&w.loadNumber===X&&w.player.getVideoData().videoId===U&&(f=g.hD(f)&&f.responseXML?f.responseXML:null)&&wRA(w,f)}};
g.tS()&&(u.onFinish=iHx(w,u.onFinish));u.postParams={ic_only:"1"};MGU(u,P);w.V=!0;g.o1(M.eL,u)}}},MGU=function(w,M){w.method="POST";
w.postParams=w.postParams||{};M.yU&&(w.postParams.ic_coll=M.yU);M.d2&&(w.postParams.ic_xml=M.d2);M.SC&&(w.postParams.ic_track=M.SC)},uKx=function(w){var M=new g.r({W:"div"});
g.Mq(M.element,!1);var P=new mGa(w.player,M.element,c3(w));g.b(P,M);M.XK(w.L.element);P.MK();return P},$rA=function(w,M){var P,u;
if(M=(P=M.getWatchNextResponse())==null?void 0:(u=P.cards)==null?void 0:u.cardCollectionRenderer)w.B3=!0,XRU(w,M),M.headerText&&w.EH&&(P=g.ff(M.headerText),w.EH.setAttribute("title",P))},c3=function(w){if(!w.S){var M=new KaV(w);
g.b(w,M);var P=new g.HG(w);g.b(w,P);w.S=new s9$(M,P,w.player.N(),w.player.getVideoData(),w.logger,w.player,w.Ci)}return w.S},wRA=function(w,M){var P=!1,u=M.getElementsByTagName("annotations");
if(u&&!(u.length<1)&&(u=u[0].getAttribute("itct"))){var X=g.En();if(X){var U=g.F_();U&&g.j2(g.nq)(void 0,X,U,[g.Hm(u)])}}M=M.getElementsByTagName("annotation");for(u=0;u<M.length;u++){U=a3E(w,M[u]);X=null;try{if(U){var f=U.id,h=/.+/;var c=typeof f==="string"&&h!=null&&f!=null&&f.match(h)?f:"";var Z=JV(U.type,UrE),S=JV(U.style,fha),H=PCV(U.data),p=H.length!==0?JSON.parse(H):{};var F=U.action;U=Wc3;if(F==null)var E=null;else if(g.uh(F)){h=[];for(var y=g.G(F),q=y.next();!q.done;q=y.next()){var d=U(q.value);
d&&h.push(d)}E=h}else{var l=U(F);E=l?[l]:[]}X=c&&Z?new h4t(c,Z,S,E,p):null}else X=null}catch($M){}if(X)if(X.type==="branding"||X.type==="promotion"){U=w;h=X;var e=tME(U),R=null;switch(h.type){case "branding":if(U.player.N().Ob)break;U.player.D("web_player_overlay_positioned_layout")?(e.setAttribute("data-overlay-order","11"),U.player.MS(e,4,!0)):U.L.element.appendChild(e);R=new W3(e,c3(U),h);break;case "promotion":g.bD(U.player,e,4),R=new KcE(e,c3(U),h)}R&&R.MK();if(U=R)g.b(w,U),w.K[X.id]=U}else if(X.type===
"card"||X.type==="drawer"){w.B||(w.B=uKx(w),g.b(w,w.B));if(X.type==="card"){e=w.B;var I=(P=X)&&P.data&&P.data.card_type;X=P.data;if(I)switch(U=X.tracking||{},U={ZL:U.impression,click:U.click,close:U.close,ll:U.teaser_impression,Dy:U.teaser_click},h=X.tracking_params||{},R=null,I){case "collaborator":P={id:P.id,timestamp:X.timestamp||0,type:X.card_type,teaserText:X.teaser_text,teaserDurationMs:X.teaser_duration_ms,startMs:X.start_ms,autoOpen:X.auto_open||!1,sessionData:X.session_data||{},sponsored:X.sponsored||
!1,p6:U,Oe:h.card?g.Hm(h.card):null,iI:h.teaser?g.Hm(h.teaser):null,bC:h.icon?g.Hm(h.icon):null,channelId:X.channel_id,customMessage:X.custom_message?X.custom_message:null,profileImageUrl:X.image_url,title:X.title,metaInfo:X.meta_info,url:jk({pause_on_navigation:X.pause_on_navigation,target:X.target||"new",value:X.url}),onClickCommand:null};u$(e,P);break;case "playlist":P={id:P.id,timestamp:X.timestamp||0,type:X.card_type,teaserText:X.teaser_text,teaserDurationMs:X.teaser_duration_ms,startMs:X.start_ms,
autoOpen:X.auto_open||!1,sessionData:X.session_data||{},sponsored:X.sponsored||!1,p6:U,Oe:h.card?g.Hm(h.card):null,iI:h.teaser?g.Hm(h.teaser):null,bC:h.icon?g.Hm(h.icon):null,TF:X.image_url,playlistVideoCount:X.playlist_video_count,customMessage:X.custom_message?X.custom_message:null,title:X.title,metaInfo:X.meta_info,url:jk({pause_on_navigation:X.pause_on_navigation,target:X.target||"new",value:X.url}),onClickCommand:null};u$(e,P);break;case "productListing":X.signin_url&&(R=jk({target:"current",
value:X.signin_url}));I=[];for(var w4=X.offers||[],t=0;t<w4.length;t++)I.push(new Fcc(g.et(w4[t].merchant),g.et(w4[t].price)));P={id:P.id,timestamp:X.timestamp||0,type:X.card_type,teaserText:X.teaser_text,teaserDurationMs:X.teaser_duration_ms,startMs:X.start_ms,autoOpen:X.auto_open||!1,sessionData:X.session_data||{},sponsored:X.sponsored||!1,p6:U,Oe:h.card?g.Hm(h.card):null,iI:h.teaser?g.Hm(h.teaser):null,bC:h.icon?g.Hm(h.icon):null,imageUrl:X.image_url,displayDomain:X.display_domain?X.display_domain:
null,showLinkIcon:!!X.show_link_icon,Qi:X.button_icon_url?X.button_icon_url:null,title:X.title,customMessage:X.custom_message?X.custom_message:null,url:jk({pause_on_navigation:X.pause_on_navigation,target:X.target||"new",value:X.url}),fo9:R,PJ$:X.signin_title?X.signin_title:void 0,cPk:X.signin_message?X.signin_message:void 0,offers:I,onClickCommand:null};u$(e,P);break;case "simple":P={id:P.id,timestamp:X.timestamp||0,type:X.card_type,teaserText:X.teaser_text,teaserDurationMs:X.teaser_duration_ms,
startMs:X.start_ms,autoOpen:X.auto_open||!1,sessionData:X.session_data||{},sponsored:X.sponsored||!1,p6:U,Oe:h.card?g.Hm(h.card):null,iI:h.teaser?g.Hm(h.teaser):null,bC:h.icon?g.Hm(h.icon):null,imageUrl:X.image_url,displayDomain:X.display_domain?X.display_domain:null,showLinkIcon:!!X.show_link_icon,Qi:X.button_icon_url?X.button_icon_url:null,title:X.title,customMessage:X.custom_message?X.custom_message:null,url:jk({pause_on_navigation:X.pause_on_navigation,target:X.target||"new",value:X.url}),onClickCommand:null};
u$(e,P);break;case "video":P={id:P.id,timestamp:X.timestamp||0,type:X.card_type,teaserText:X.teaser_text,teaserDurationMs:X.teaser_duration_ms,startMs:X.start_ms,autoOpen:X.auto_open||!1,sessionData:X.session_data||{},sponsored:X.sponsored||!1,p6:U,Oe:h.card?g.Hm(h.card):null,iI:h.teaser?g.Hm(h.teaser):null,bC:h.icon?g.Hm(h.icon):null,TF:X.image_url,videoDuration:X.video_duration||null,customMessage:X.custom_message?X.custom_message:null,title:X.title,metaInfo:X.meta_info,isLiveNow:!!X.is_live_now,
url:jk({pause_on_navigation:X.pause_on_navigation,target:X.target||"new",value:X.url}),onClickCommand:null},u$(e,P)}}else o$p(w.B,X);P=!0}}P&&(lH(w.player),w.cD())},XRU=function(w,M){var P=!1;
w.B||(w.B=uKx(w),g.b(w,w.B));for(var u=g.G(M.cards||[]),X=u.next();!X.done;X=u.next())X=X.value,X.cardRenderer&&(GBc(w.B,X.cardRenderer),P=!0);if(P){var U;(U=w.player.getVideoData())!=null&&g.gN(U)||(P=w.B,u=M.headerText?g.ff(M.headerText):"",g.oU(P.cj,u),P.V&&P.V.setAttribute("title",u),P.context.videoData.eventId&&(P.eventId=P.context.videoData.eventId),P.Cu=M.trackingParams?g.Hm(M.trackingParams):null,P.j=M.closeButton.infoCardIconRenderer.trackingParams?g.Hm(M.closeButton.infoCardIconRenderer.trackingParams):
null,P.bC=M.icon.infoCardIconRenderer.trackingParams?g.Hm(M.icon.infoCardIconRenderer.trackingParams):null,w.cD());lH(w.player)}},W04=function(w,M,P,u,X){if(!w.player.N().Ob){var U=[];
M.navigationEndpoint&&g.A(M.navigationEndpoint,g.nk)&&g.A(M.navigationEndpoint,g.nk).browseId&&U.push(new $G4("openUrl","click",new uvA("/channel/"+g.A(M.navigationEndpoint,g.nk).browseId,"new",!0,!0)));var f=M.watermark.thumbnails[0];u={channel_name:M.channelName,end_ms:M.endTimeMs,image_height:f.height,image_type:1,image_url:f.url,image_width:f.width,is_mobile:!1,session_data:{annotation_id:P,ei:X,feature:"iv",itct:M.trackingParams,src_vid:u},start_ms:M.startTimeMs};if(M.subscribeButton&&g.A(M.subscribeButton,
g.v7)){u.channel_id=g.A(M.subscribeButton,g.v7).channelId;var h;M=g.A(M.subscribeButton,g.v7);f=X=null;M.subscribed?(M.subscriberCountWithUnsubscribeText&&(X=g.ff(M.subscriberCountWithUnsubscribeText)),M.subscriberCountText&&(f=g.ff(M.subscriberCountText))):(M.subscriberCountText&&(X=g.ff(M.subscriberCountText)),M.subscriberCountWithSubscribeText&&(f=g.ff(M.subscriberCountWithSubscribeText)));var c,Z=((c=g.A((h=M.signInEndpoint)==null?void 0:h.commandMetadata,g.qg))==null?void 0:c.url)||"";h={subscribeText:g.ff(M.unsubscribedButtonText),
subscribeCount:X||"",unsubscribeText:g.ff(M.subscribedButtonText),unsubscribeCount:f||"",enabled:M.enabled||!1,classic:!1,subscribed:M.subscribed||!1,feature:"iv",signInUrl:Z};u.standalone_subscribe_button_data=h}U=new h4t(P,"branding","branding",U,u);h=tME(w);w.player.D("web_player_overlay_positioned_layout")?(h.setAttribute("data-overlay-order","11"),w.player.MS(h,4,!0)):w.L.element.appendChild(h);U=new W3(h,c3(w),U);U.MK();g.b(U,U);w.K[P]=U}},iHx=function(w,M){return function(){var P=g.Kz.apply(0,
arguments);
w.sO()||w.Lu.push(g.kO.t5(function(){M.apply(null,g.L(P))}))}},hMj=function(w){return w==="annotation-editor"||w==="live-dashboard"};
g.BV.prototype.Oa=g.Xl(39,function(w,M){var P=g.R5(this.I9());P&&P.Oa(w,M)});
var ek={},Be=null;g.Sp(kK,g.$R);g.N=kK.prototype;g.N.getDuration=function(){return this.duration};
g.N.play=function(w){if(w||this.B==0)this.progress=0,this.coords=this.L;else if(this.isPlaying())return!1;QB(this);this.startTime=w=g.ca();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.X=this.startTime;this.progress||this.nm();this.e2("play");this.isPaused()&&this.e2("resume");this.B=1;var M=g.UE(this);M in ek||(ek[M]=this);B2t();Qwj(this,w);return!0};
g.N.stop=function(w){QB(this);this.B=0;w&&(this.progress=1);kdp(this,this.progress);this.onStop();this.XE()};
g.N.pause=function(){this.isPlaying()&&(QB(this),this.B=-1,this.e2("pause"))};
g.N.v3=function(){this.B==0||this.stop(!1);this.e2("destroy");kK.Ik.v3.call(this)};
g.N.destroy=function(){this.dispose()};
g.N.cU=function(){this.e2("animate")};
g.N.e2=function(w){this.dispatchEvent(new Rmt(w,this))};
g.Sp(Rmt,g.Iu);g.Sp(R_,kK);R_.prototype.C=function(){};
R_.prototype.cU=function(){this.C();R_.Ik.cU.call(this)};
R_.prototype.XE=function(){this.C();R_.Ik.XE.call(this)};
R_.prototype.nm=function(){this.C();R_.Ik.nm.call(this)};
g.Sp(nw3,R_);nw3.prototype.C=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.V(KaV,g.v);g.N=KaV.prototype;g.N.listen=function(w,M,P,u){P=(0,g.fC)(P,u||this.L);w=g.Ni(w,M,P);this.B.push(w);return w};
g.N.eE=function(w,M,P,u){P=(0,g.fC)(P,u||this.L);w=Lah(w,M,P);this.B.push(w);return w};
g.N.Mt=function(w){g.Vh(w);g.D4(this.B,w)};
g.N.removeAll=function(){g.Vh(this.B);this.B.length=0};
g.N.v3=function(){this.removeAll();g.v.prototype.v3.call(this)};g.V(Adp,g.D0);g.N=Adp.prototype;g.N.load=function(){g.D0.prototype.load.call(this);if(!sF(this)){var w=g.TZx(this.player.getVideoData());w?(w=IdV(w,gwp(this)),Kl(this,w,!1)):Jdc(this)}};
g.N.unload=function(){Kl(this,null);this.X&&(this.X.abort(),this.X=null);g.D0.prototype.unload.call(this)};
g.N.S0=function(w,M){return sF(this)?w==="loadCustomEndscreenRenderer"?(w=IdV(M,"new"),Kl(this,w),!0):null:null};
g.N.getOptions=function(){return sF(this)?["loadCustomEndscreenRenderer"]:[]};
g.N.o9=function(){if(this.endscreen&&this.endscreen.elements){var w=this.player.getVideoContentRect();if(w&&w.width!==0&&w.height!==0){var M=this.player.getPlayerSize();if(M&&M.width!==0&&M.height!==0){var P=w.width/w.height;var u=0;for(var X=-1,U=0;U<cE3.length;U++){var f=Math.abs(M.width-cE3[U]);if(X===-1||u>=f)X=U,u=f}u=ZHc[X];this.C&&g.A1(this.C.element,"outline-width",Math.max(M.width,M.height)+"px");for(M=0;M<this.endscreen.elements.length;++M)if(U=this.endscreen.elements[M].id,X=this.L[U],
f=this.K[U],X&&f){var h=f.width*P/f.aspectRatio,c=Math.round(f.width*w.width);U=Math.round(h*w.height);var Z=w.left+Math.round(f.left*w.width),S=w.top+Math.round(f.top*w.height);g.w2(X.element,c,U);g.t1(X.element,Z,S);g.uo(X.element,S8j);c>256||U>256?g.io(X.element,"ytp-ce-large-round"):c>96||U>96?g.io(X.element,"ytp-ce-medium-round"):g.io(X.element,"ytp-ce-small-round");g.uo(X.element,HHc);c=f.left+f.width/2;f=f.top+h/2;g.io(X.element,c<=.5&&f<=.5?"ytp-ce-top-left-quad":c>.5&&f<=.5?"ytp-ce-top-right-quad":
c<=.5&&f>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.uo(X.element,ZHc);g.io(X.element,u);(X=g.US(document,"div","ytp-ce-expanding-overlay-body",X.element)[0])&&g.A1(X,"height",U+"px")}}}}};
g.N.onCueRangeEnter=function(w){if(this.endscreen)if(w.getId()==="ytp-ce-in-endscreen")gm(this,this.endscreen.impressionUrls),(w=g.En())&&this.endscreen.visualElement&&g.jR(w,this.endscreen.visualElement),this.B&&(g.io(this.B,"ytp-ce-element-show"),this.B.removeAttribute("aria-hidden"),this.player.cw()?g.io(this.B,"ytp-ce-hide-button-lower"):g.PI(this.B,"ytp-ce-hide-button-lower"));else{w=w.getId().substring(15);var M=this.L[w],P=this.K[w];g.io(M.element,"ytp-ce-element-show");M.element.removeAttribute("aria-hidden");
M=this.player.getRootNode();g.io(M,"ytp-ce-shown");gm(this,P.impressionUrls);(M=g.En())&&g.jR(M,P.visualElement);this.player.N().V&&this.player.Vs("endscreenelementshown",w)}};
g.N.onCueRangeExit=function(w){if(w.getId()==="ytp-ce-in-endscreen")this.B&&(g.PI(this.B,"ytp-ce-element-show"),this.B.setAttribute("aria-hidden","true"));else{w=w.getId().substring(15);var M=this.L[w];g.PI(M.element,"ytp-ce-element-show");M.element.setAttribute("aria-hidden","true");M=this.player.getRootNode();g.PI(M,"ytp-ce-shown");this.player.N().V&&this.player.Vs("endscreenelementhidden",w)}};
g.N.ywN=function(w){var M=this;w.target===window&&(new g.gV(function(){for(var P=g.G(Object.values(M.L)),u=P.next();!u.done;u=P.next())g.uo(u.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.N.AD=function(w){for(var M=g.G(Object.values(this.L)),P=M.next();!P.done;P=M.next())P=P.value,w?P.element.setAttribute("hidden",""):P.element.removeAttribute("hidden")};
g.N.tUK=function(w){this.B&&this.player.getRootNode().removeChild(this.B);w&&(g.io(w,"ytp-ce-hide-button-container"),this.B=w,g.bD(this.player,this.B,4))};
var cE3=[346,426,470,506,570,640,853,1280,1920],ZHc="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),HHc=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],S8j=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var XAA={zqO:"current",sG9:"new"};var UG$={CLOSE:"close",gHu:"openUrl",SUBSCRIBE:"subscribe"},f3E={Dv9:"click",CLOSE:"close",H6u:"hidden",WPI:"rollOut",dgO:"rollOver",goK:"shown"};h4t.prototype.xa=function(){var w=cvE(this,function(M){return M.type==="openUrl"&&M.url!=null});
return w?w.url:null};
var fha={uJ$:"anchored",ph:"branding",CHANNEL:"channel",oQu:"cta",qGL:"highlightText",uH$:"label",PLAYLIST:"playlist",POPUP:"popup",l8u:"speech",SUBSCRIBE:"subscribe",qjK:"title",VIDEO:"video",jO9:"website"},UrE={ph:"branding",XbK:"card",LQu:"drawer",b63:"highlight",PTW:"marker",Jy0:"promotion",TEXT:"text",rcu:"widget"};g.V(OF,g.v);g.N=OF.prototype;g.N.addCueRange=function(w,M,P,u,X){w=new g.bg(w,M,{id:P,namespace:"annotations_module"});u&&this.t9.set(w,u);X&&this.Yu.set(w,X);this.context.U.qf([w],1)};
g.N.MK=function(){this.context.L.subscribe("resize",this.Et,this)};
g.N.vj=function(){return this.element};
g.N.PU=function(w,M,P,u,X,U){if(this.Z3)return!1;U&&(U.stopPropagation(),U.preventDefault());this.navigate(w,P,u,X);return!1};
g.N.show=function(){};
g.N.hide=function(){};
g.N.destroy=function(){g.Vy(this.vj())};
g.N.Et=function(){};
g.N.navigate=function(w,M,P,u){var X=this,U=rm(w);if(U){var f=Nxh(U,w.target),h=function(){w.B&&X.context.U.pauseVideo();var c=X.context.videoData.Ym||!1,Z=g.w$(U||"");c&&Z&&(Z.v||Z.list)?X.context.U.Hx(Z.v,M,Z.list,!1):g.vj(U||"",f==="current"?"_top":void 0,M)};
f==="new"&&(h(),h=null);hs(this.context.logger,P,h,u);E$A(U)||(P=g.En(),u=M.itct,P&&u&&g.xq(P,g.Hm(u)))}};
g.N.v3=function(){this.t9.clear();this.Yu.clear();g.v.prototype.v3.call(this)};
g.N.createElement=function(w){w=new g.r(w);g.b(this,w);return w.element};g.V(mGa,OF);g.N=mGa.prototype;g.N.FG=function(){this.Lu&&u$(this,this.Lu)};
g.N.isAvailable=function(){var w;if(w=!!this.cards.length)(w=this.U.getRootNode())?(w=g.iy(w),w=173<w.width&&173<w.height):w=!1;return w};
g.N.Et=function(){var w=this.isAvailable();g.Mq(this.vj(),w);g.X6(this.context.U.getRootNode(),g.Eq.IV_DRAWER_ENABLED,w);lH(this.U)};
g.N.destroy=function(){this.U.Oa(!1);try{this.U.getRootNode().removeChild(this.X)}catch(w){}g.xQ(this.B3);g.qi(this.eL);this.OO&&this.OO.dispose();this.G&&this.G.dispose();OF.prototype.destroy.call(this)};
g.N.zT=function(){var w=this;this.context.B.listen(g.fj("iv-drawer-close-button",this.X),"click",this.E1,this);this.context.B.listen(this.L,"touchend",function(){w.ys.start()});
this.context.B.listen(this.L,"scroll",this.Y8,this);this.context.L.subscribe("onHideControls",function(){w.UO=!0});
this.context.L.subscribe("onShowControls",function(){w.UO=!1});
this.context.L.subscribe("onVideoAreaChange",function(){w.UO=g.w1(w.U.getRootNode(),"ytp-autohide")});
this.B3.push(g.ti("iv-button-shown",this.tU,this));this.B3.push(g.ti("iv-button-hidden",this.uw,this));z4E(this)};
g.N.findLastIndex=function(w){if(this.cards.length===0)return 0;var M=g.mU(this.cards,function(P){return w.uC.startMs>P.uC.startMs||w.uC.startMs===P.uC.startMs&&w.uC.timestamp>=P.uC.timestamp?!0:!1});
return M===-1?0:M+1};
g.N.E1=function(){if(this.C){hs(this.context.logger,U3(this).p6.close);var w=g.En();w&&this.j&&g.xq(w,this.j);Mt(this)}};
g.N.Y8=function(){g.X6(this.X,"iv-drawer-scrolled",this.L.scrollTop>0)};
g.N.tU=function(){var w=g.En(),M=U3(this);M=M?M.bC:this.bC;w&&M&&g.Cq(w,[M])};
g.N.uw=function(){var w=g.En(),M=U3(this);M=M?M.bC:this.bC;w&&M&&g.tg(w,[M])};
g.N.Od=function(){var w=U3(this);hs(this.context.logger,w.p6.ll);var M=g.En();if(M&&w)if(this.U.D("web_infocards_teaser_show_logging_fix")){var P=[];w.iI&&P.push(w.iI);w.bC&&P.push(w.bC);P.length>0&&g.Cq(M,P)}else g.Cq(M,[w.iI,w.bC])};
g.N.lw=function(){var w=g.En(),M=U3(this);w&&M&&g.tg(w,[M.iI])};
g.N.h0=function(w){var M=U3(this),P=g.En();this.B?w?(w=this.context.logger,hs(w,M.p6.Dy),w.U.sendVideoStatsEngageEvent(4,void 0),P&&M.iI&&g.xq(P,M.iI)):(w=this.context.logger,hs(w,M.p6.Dy),w.U.sendVideoStatsEngageEvent(4,void 0),P&&M.bC&&g.xq(P,M.bC)):(w=this.context.logger,hs(w,M.p6.Dy),w.U.sendVideoStatsEngageEvent(4,void 0),P&&this.bC&&g.xq(P,this.bC))};g.V(fV,OF);fV.prototype.MK=function(){OF.prototype.MK.call(this);Q9c(this)};
fV.prototype.show=function(){OF.prototype.show.call(this);var w=g.En(),M=this.annotation.data;w&&M&&(M=M.session_data)&&g.Cq(w,[g.Hm(M.itct)])};
fV.prototype.hide=function(){OF.prototype.hide.call(this);var w=g.En(),M=this.annotation.data;w&&M&&(M=M.session_data)&&g.tg(w,[g.Hm(M.itct)])};g.V(W3,fV);
W3.prototype.show=function(){if(!this.isActive){fV.prototype.show.call(this);if(!this.j){g.io(this.vj(),"iv-branding");var w=this.annotation.data;this.L=this.createElement({W:"img",d$:["branding-img","iv-click-target"],Z:{"aria-label":"Channel watermark",src:w.image_url,width:w.image_width,height:w.image_height}});g.Mq(this.L,!1);var M=this.createElement({W:"button",d$:["branding-img-container","ytp-button"]});M.appendChild(this.L);this.vj().appendChild(M);var P=this.annotation.xa();P&&a_(this,M,
P,this.annotation.id,w.session_data);this.context.U.D("disable_branding_context")||v$E(this,w);this.j=!0}g.Mq(this.vj(),!0);this.isActive=!0;if(this.L){try{kBE(this,this.L)}catch(u){}g.io(this.context.U.getRootNode(),"ytp-branding-shown");this.context.U.getRootNode().style.setProperty("--branding-image-width",this.L.getAttribute("width")+"px")}}};
W3.prototype.hide=function(){this.isActive&&(fV.prototype.hide.call(this),g.Mq(this.vj(),!1),this.isActive=!1,g.PI(this.context.U.getRootNode(),"ytp-branding-shown"))};
W3.prototype.destroy=function(){this.B&&(this.B.dispose(),this.B=null);g.PI(this.context.U.getRootNode(),"ytp-branding-shown");fV.prototype.destroy.call(this)};g.V(KcE,fV);g.N=KcE.prototype;g.N.show=function(){this.isActive||(fV.prototype.show.call(this),this.S||(I33(this),this.S=!0),g.Mq(this.vj(),!0),g.BX(function(){g.PI(this.vj(),"iv-promo-inactive")},100,this),this.vj().removeAttribute("aria-hidden"),this.isActive=!0,rvE(this),Avt(this),g$U(this,this.K))};
g.N.hide=function(){this.isActive&&(g.io(this.vj(),"iv-promo-inactive"),this.isActive=!1,this.vj().setAttribute("aria-hidden","true"))};
g.N.PU=function(w,M,P,u,X,U){return this.isCollapsed?!1:fV.prototype.PU.call(this,w,M,P,u,X,U)};
g.N.OU=function(w){this.V=!0;bPU(this,500,w)};
g.N.hE=function(){this.V=!1;Jva(this)};
g.N.kZ=function(w){w.stopPropagation();this.hide()};
g.N.sU=function(w){w.stopPropagation();rvE(this);this.isCollapsed=!0;g.io(this.vj(),"iv-promo-collapsed-no-delay");this.G.start()};
g.N.destroy=function(){this.G.dispose();fV.prototype.destroy.call(this)};g.V(CCA,g.D0);g.N=CCA.prototype;g.N.S0=function(w,M){if(!hMj(this.player.N().playerStyle))return null;switch(w){case "loadCustomAnnotationsXml":return(w=g.i9(M))&&wRA(this,w),!0;case "removeCustomAnnotationById":return M&&this.B&&(DGU(this.B,M),lH(this.player)),!0}return null};
g.N.getOptions=function(){return hMj(this.player.N().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.N.iP=function(){var w=this.player.N(),M=this.player.getVideoData(),P=w.annotationsLoadPolicy||M.annotationsLoadPolicy;return g.f$(M)||this.player.isMutedByEmbedsMutedAutoplay()?!1:P===1&&!M.vu||w.UO.get(M.videoId)||g.JM(M)||g.rN(M)?!0:!1};
g.N.cD=function(){if(this.C){var w=this.player.oI().getVideoContentRect(!0);g.w2(this.C.element,w.width,w.height);g.t1(this.C.element,w.left,w.top)}if(this.B){var M=this.player.UB();w=this.B;M=M.width;g.X6(w.X,"iv-drawer-small",M<=426);g.X6(w.X,"iv-drawer-big",M>=1280)}};
g.N.gR=function(w){xGt(this,w.state);g.C(w.state,2)&&(this.cw()&&this.Gg()&&this.player.getPresentingPlayerType()!==2&&this.gi(!1),this.Oa(!1))};
g.N.load=function(){function w(f){var h=M.loadNumber;M.G=null;M.loaded&&M.loadNumber===h&&M.player.getVideoData().videoId===u&&(f=g.hD(f)&&f.responseXML?f.responseXML:null)&&(wRA(M,f),g.io(M.player.getRootNode(),"iv-module-loaded"))}
var M=this;g.D0.prototype.load.call(this);xGt(this,this.player.getPlayerStateObject());this.loadNumber++;var P=this.player.getVideoData(),u=P.videoId;g.tS()&&(w=iHx(this,w));var X={format:"XML",onFinish:w,onError:function(){M.G=null},
urlParams:{}};P.isPharma&&(X.urlParams.pharma="1");X.method="POST";X.withCredentials=!0;var U=this.player.N().UO.get(u);U&&MGU(X,U);U=U&&(U.d2||U.yU);if(!P.yS||U)P.eL?OPV(this,P.eL,X):(this.j=function(){if(!M.V)M.onVideoDataChange(X);var f=M.player.getVideoData();(f==null?0:g.gN(f))&&!M.B3&&$rA(M,f)},this.player.addEventListener("videodatachange",this.j));
g.bD(this.player,this.C.element,4);this.cD();(U=g.JM(P))&&XRU(this,U);(U=g.rN(P))&&U.featuredChannel&&W04(this,U.featuredChannel,U.annotationId||"branding",P.videoId||null,P.eventId||null);this.EH=g.fj("ytp-cards-button",this.player.getRootNode());g.gN(P)&&$rA(this,P)};
g.N.onVideoDataChange=function(w){var M=this.player.getVideoData();M.eL&&OPV(this,M.eL,w)};
g.N.unload=function(){this.player.dB("annotations_module");for(var w=g.G(Object.keys(this.K)),M=w.next();!M.done;M=w.next())this.K[M.value].destroy();this.S=null;this.B&&(this.B.destroy(),this.B=null,lH(this.player));this.V=!1;this.G&&(this.G.abort(),this.G=null);this.B3=!1;this.K={};this.L.hide();g.D0.prototype.unload.call(this);this.C.detach();this.j&&(this.player.removeEventListener("videodatachange",this.j),this.j=null)};
g.N.SP=function(w){w===this.player.getVideoData().videoId&&(this.loaded?PeA(this):this.load())};
g.N.cw=function(){var w;return((w=this.B)==null?void 0:w.isAvailable())||this.B3};
g.N.Gg=function(){return!!this.B&&this.B.C};
g.N.gi=function(w,M,P){M=M===void 0?!1:M;this.cw();this.B&&(w?P?i$(this.B,P,M):i$(this.B,"YOUTUBE_DRAWER_AUTO_OPEN",M):Mt(this.B))};
g.N.Oa=function(w,M){this.player.publish(w?"cardsteasershow":"cardsteaserhide",M)};
g.N.v3=function(){this.player.N().UO.unsubscribe("vast_info_card_add",this.SP,this);g.PI(this.player.getRootNode(),g.Eq.IV_DRAWER_OPEN);for(var w=this.Lu,M=g.kO,P=0,u=w.length;P<u;P++)M.Pw(w[P]);this.Lu.length=0;g.D0.prototype.v3.call(this)};
g.N.createElement=function(w){w=new g.r(w);g.b(this,w);return w.element};g.yT("annotations_module",CCA);g.yT("creatorendscreen",Adp);})(_yt_player);
