(function(g){var window=this;'use strict';var BeU=function(w){w.publish("autonavvisibility")},Q43=function(w,M){w.Vs("onAutonavCoundownStarted",M)},k_x=function(w){var M,P,u;
return w==null?void 0:(M=w.playerOverlays)==null?void 0:(P=M.playerOverlayRenderer)==null?void 0:(u=P.autoplay)==null?void 0:u.playerOverlayAutoplayRenderer},Ui=function(w){var M=w.N(),P=M.X;
g.r.call(this,{W:"a",T:"ytp-autonav-suggestion-card",Z:{href:"{{url}}",target:P?M.S:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},J:[{W:"div",d$:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],Z:{style:"{{background}}"},J:[{W:"div",Z:{"aria-label":"{{timestamp}}"},d$:["ytp-autonav-timestamp"],pu:"{{duration}}"},{W:"div",d$:["ytp-autonav-live-stamp"],pu:"Live"},{W:"div",
d$:["ytp-autonav-upcoming-stamp"],pu:"Upcoming"},{W:"div",T:"ytp-autonav-list-overlay",J:[{W:"div",T:"ytp-autonav-mix-text",pu:"Mix"},{W:"div",T:"ytp-autonav-mix-icon"}]}]},{W:"div",d$:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],pu:"{{title}}"},{W:"div",d$:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],pu:"{{author}}"},{W:"div",d$:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],pu:"{{views_and_publish_time}}"}]});this.U=w;this.suggestion=
null;this.B=P;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},fi=function(w,M){M=M===void 0?!1:M;
g.r.call(this,{W:"div",T:"ytp-autonav-endscreen-countdown-overlay"});var P=this;this.j=M;this.cancelCommand=this.K=void 0;this.C=0;this.container=new g.r({W:"div",T:"ytp-autonav-endscreen-countdown-container"});g.b(this,this.container);this.container.XK(this.element);M=w.N();var u=M.X;this.U=w;this.suggestion=null;this.onVideoDataChange("newdata",this.U.getVideoData());this.Y(w,"videodatachange",this.onVideoDataChange);this.B=new g.r({W:"div",T:"ytp-autonav-endscreen-upnext-container",Z:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},J:[{W:"div",T:"ytp-autonav-endscreen-upnext-header"},{W:"div",T:"ytp-autonav-endscreen-upnext-alternative-header",pu:"{{autoplayAlternativeHeader}}"},{W:"a",T:"ytp-autonav-endscreen-link-container",Z:{href:"{{url}}",target:u?M.S:""},J:[{W:"div",T:"ytp-autonav-endscreen-upnext-thumbnail",Z:{style:"{{background}}"},J:[{W:"div",Z:{"aria-label":"{{timestamp}}"},d$:["ytp-autonav-timestamp"],
pu:"{{duration}}"},{W:"div",d$:["ytp-autonav-live-stamp"],pu:"Live"},{W:"div",d$:["ytp-autonav-upcoming-stamp"],pu:"Upcoming"}]},{W:"div",T:"ytp-autonav-endscreen-video-info",J:[{W:"div",T:"ytp-autonav-endscreen-premium-badge"},{W:"div",T:"ytp-autonav-endscreen-upnext-title",pu:"{{title}}"},{W:"div",T:"ytp-autonav-endscreen-upnext-author",pu:"{{author}}"},{W:"div",T:"ytp-autonav-view-and-date",pu:"{{views_and_publish_time}}"},{W:"div",T:"ytp-autonav-author-and-view",pu:"{{author_and_views}}"}]}]}]});
g.b(this,this.B);this.B.XK(this.container.element);u||this.Y(this.B.RI("ytp-autonav-endscreen-link-container"),"click",this.s4);this.U.createClientVe(this.container.element,this,115127);this.U.createClientVe(this.B.RI("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.r({W:"div",T:"ytp-autonav-overlay"});g.b(this,this.overlay);this.overlay.XK(this.container.element);this.L=new g.r({W:"div",T:"ytp-autonav-endscreen-button-container"});g.b(this,this.L);this.L.XK(this.container.element);
this.cancelButton=new g.r({W:"button",d$:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",M.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],Z:{"aria-label":"Cancel autoplay"},pu:"Cancel"});g.b(this,this.cancelButton);this.cancelButton.XK(this.L.element);this.cancelButton.listen("click",this.l2,this);this.U.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.r({W:"a",d$:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
M.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],Z:{href:"{{url}}",role:"button","aria-label":"Play next video"},pu:"Play Now"});g.b(this,this.playButton);this.playButton.XK(this.L.element);this.playButton.listen("click",this.s4,this);this.U.createServerVe(this.playButton.element,this.playButton,!0);(M=this.U.getVideoData())&&RZE(this,M);this.X=new g.gV(function(){nJx(P)},500);
g.b(this,this.X);this.F7();this.Y(w,"autonavvisibility",this.F7);this.U.D("web_autonav_color_transition")&&(this.Y(w,"autonavchange",this.t0),this.Y(w,"onAutonavCoundownStarted",this.h$N))},Wq=function(w){var M=w.U.UB(!0,w.U.isFullscreen());
g.X6(w.container.element,"ytp-autonav-endscreen-small-mode",w.Jx(M));g.X6(w.container.element,"ytp-autonav-endscreen-is-premium",!!w.suggestion&&!!w.suggestion.Hx$);g.X6(w.U.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!w.U.eU());g.X6(w.U.getRootNode(),"countdown-running",w.XH());g.X6(w.container.element,"ytp-player-content",w.U.eU());g.A1(w.overlay.element,{width:M.width+"px"});if(!w.XH()){w.U.eU()?vJ$(w,Math.round(s4C(w)/1E3)):vJ$(w);M=!!w.suggestion&&!!w.suggestion.Es;var P=w.U.eU()||
!M;g.X6(w.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!P&&M);g.X6(w.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",P&&!M);w.L.AD(w.U.eU());g.X6(w.element,"ytp-enable-w2w-color-transitions",KR$(w))}},nJx=function(w){var M=s4C(w),P=Math,u=P.min;
var X=w.C?Date.now()-w.C:0;P=u.call(P,X,M);vJ$(w,Math.ceil((M-P)/1E3));M-P<=500&&w.XH()?w.select(!0):w.XH()&&w.X.start()},s4C=function(w){if(w.U.isFullscreen()){var M;
w=(M=w.U.getVideoData())==null?void 0:M.Kj;return w===-1||w===void 0?8E3:w}return w.U.gw()>=0?w.U.gw():g.Oh(w.U.N().experiments,"autoplay_time")||1E4},RZE=function(w,M){M=M.getWatchNextResponse();
var P,u;M=(P=k_x(M))==null?void 0:(u=P.nextButton)==null?void 0:u.buttonRenderer;w.K=M==null?void 0:M.navigationEndpoint;P=M==null?void 0:M.trackingParams;w.playButton&&P&&w.U.setTrackingParams(w.playButton.element,P)},KR$=function(w){var M;
return!((M=w.U.getVideoData())==null||!M.watchToWatchTransitionRenderer)},vJ$=function(w,M){M=M===void 0?-1:M;
w=w.B.RI("ytp-autonav-endscreen-upnext-header");g.ES(w);if(M>=0){M=String(M);var P="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],u="Up next in $SECONDS".indexOf(P);if(u>=0){w.appendChild(g.pj("Up next in $SECONDS".slice(0,u)));var X=g.HS("span");g.a3(X,"ytp-autonav-endscreen-upnext-header-countdown-number");g.oU(X,M);w.appendChild(X);w.appendChild(g.pj("Up next in $SECONDS".slice(u+P.length)));return}}g.oU(w,"Up next")},hq=function(w,M){g.r.call(this,{W:"div",
d$:["html5-endscreen","ytp-player-content",M||"base-endscreen"]});this.created=!1;this.player=w},cq=function(w){g.r.call(this,{W:"div",
d$:["ytp-upnext","ytp-player-content"],Z:{"aria-label":"{{aria_label}}"},J:[{W:"div",T:"ytp-cued-thumbnail-overlay-image",Z:{style:"{{background}}"}},{W:"span",T:"ytp-upnext-top",J:[{W:"span",T:"ytp-upnext-header",pu:"Up Next"},{W:"span",T:"ytp-upnext-title",pu:"{{title}}"},{W:"span",T:"ytp-upnext-author",pu:"{{author}}"}]},{W:"a",T:"ytp-upnext-autoplay-icon",Z:{role:"button",href:"{{url}}","aria-label":"Play next video"},J:[{W:"svg",Z:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
J:[{W:"circle",T:"ytp-svg-autoplay-circle",Z:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{W:"circle",T:"ytp-svg-autoplay-ring",Z:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{W:"path",T:"ytp-svg-fill",Z:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{W:"span",T:"ytp-upnext-bottom",J:[{W:"span",T:"ytp-upnext-cancel"},{W:"span",T:"ytp-upnext-paused",
pu:"Autoplay is paused"}]}]});this.api=w;this.cancelButton=null;this.K=this.RI("ytp-svg-autoplay-ring");this.C=this.notification=this.B=this.suggestion=null;this.X=new g.gV(this.KQ,5E3,this);this.L=0;var M=this.RI("ytp-upnext-cancel");this.cancelButton=new g.r({W:"button",d$:["ytp-upnext-cancel-button","ytp-button"],Z:{tabindex:"0","aria-label":"Cancel autoplay"},pu:"Cancel"});g.b(this,this.cancelButton);this.cancelButton.listen("click",this.YF,this);this.cancelButton.XK(M);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.b(this,this.X);this.api.createClientVe(this.element,this,18788);M=this.RI("ytp-upnext-autoplay-icon");this.Y(M,"click",this.Vk);this.api.createClientVe(M,this,115130);this.xk();this.Y(w,"autonavvisibility",this.xk);this.Y(w,"mdxnowautoplaying",this.yDu);this.Y(w,"mdxautoplaycanceled",this.XjW);g.X6(this.element,"ytp-upnext-mobile",this.api.N().L)},b5C=function(w,M){if(M)return M;
if(w.api.isFullscreen()){var P;w=(P=w.api.getVideoData())==null?void 0:P.Kj;return w===-1||w===void 0?8E3:w}return w.api.gw()>=0?w.api.gw():g.Oh(w.api.N().experiments,"autoplay_time")||1E4},Itj=function(w,M){M=b5C(w,M);
var P=Math,u=P.min;var X=(0,g.G$)()-w.L;P=u.call(P,X,M);M=M===0?1:Math.min(P/M,1);w.K.setAttribute("stroke-dashoffset",""+-211*(M+1));M>=1&&w.XH()&&w.api.getPresentingPlayerType()!==3?w.select(!0):w.XH()&&w.B.start()},ZO=function(w){hq.call(this,w,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.r({W:"div",T:"ytp-suggestion-panel",J:[{W:"div",d$:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],pu:"More videos"}]});this.V=new g.r({W:"div",T:"ytp-suggestions-container"});this.videos=[];this.C=null;this.K=this.j=!1;this.L=new fi(this.player);g.b(this,this.L);this.L.XK(this.element);w.getVideoData().SZ?this.B=this.L:(this.B=new cq(w),g.bD(this.player,this.B.element,4),g.b(this,this.B));this.overlay=new g.r({W:"div",
T:"ytp-autonav-overlay-cancelled-state"});g.b(this,this.overlay);this.overlay.XK(this.element);this.X=new g.V2(this);g.b(this,this.X);g.b(this,this.table);this.table.XK(this.element);this.table.show();g.b(this,this.V);this.V.XK(this.table.element);this.hide()},Ss=function(w){var M=w.eU();
M!==w.K&&(w.K=M,BeU(w.player),w.K?(w.L!==w.B&&w.L.hide(),w.table.hide()):(w.L!==w.B&&w.L.show(),w.table.show()))},AaV=function(w){hq.call(this,w,"videowall-endscreen");
var M=this;this.U=w;this.stills=[];this.C=this.videoData=null;this.X=this.j=!1;this.V=null;g.io(this.element,"modern-videowall-endscreen");this.L=new g.V2(this);g.b(this,this.L);this.K=new g.gV(function(){g.io(M.element,"ytp-show-tiles")},0);
g.b(this,this.K);this.table=new g.Mo({W:"div",T:"ytp-modern-endscreen-content"});g.b(this,this.table);this.table.XK(this.element);w.getVideoData().SZ?this.B=new fi(w,!0):this.B=new cq(w);g.b(this,this.B);g.bD(this.player,this.B.element,4);w.createClientVe(this.element,this,158789);this.hide()},Hq=function(w){return g.IZ(w.player)&&w.l_()&&!w.C},pi=function(w){var M=w.eU();
M!==w.j&&(w.j=M,BeU(w.player))},gJ4=function(w){hq.call(this,w,"subscribecard-endscreen");
this.B=new g.r({W:"div",T:"ytp-subscribe-card",J:[{W:"img",T:"ytp-author-image",Z:{src:"{{profilePicture}}"}},{W:"div",T:"ytp-subscribe-card-right",J:[{W:"div",T:"ytp-author-name",pu:"{{author}}"},{W:"div",T:"html5-subscribe-button-container"}]}]});g.b(this,this.B);this.B.XK(this.element);var M=w.getVideoData();this.subscribeButton=new g.Pc("Subscribe",null,"Unsubscribe",null,!0,!1,M.ZY,M.subscribed,"trailer-endscreen",null,w,!1);g.b(this,this.subscribeButton);this.subscribeButton.XK(this.B.RI("html5-subscribe-button-container"));
this.Y(w,"videodatachange",this.g$);this.g$();this.hide()},FR=function(w){var M=w.N(),P=g.p3||g.vM?{style:"will-change: opacity"}:void 0,u=M.X,X=["ytp-videowall-still"];
M.L&&X.push("ytp-videowall-show-text");g.r.call(this,{W:"a",d$:X,Z:{href:"{{url}}",target:u?M.S:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},J:[{W:"div",T:"ytp-videowall-still-image",Z:{style:"{{background}}"}},{W:"span",T:"ytp-videowall-still-info",Z:{"aria-hidden":"true"},J:[{W:"span",T:"ytp-videowall-still-info-bg",J:[{W:"span",T:"ytp-videowall-still-info-content",Z:P,J:[{W:"span",T:"ytp-videowall-still-info-title",pu:"{{title}}"},
{W:"span",T:"ytp-videowall-still-info-author",pu:"{{author_and_views}}"},{W:"span",T:"ytp-videowall-still-info-live",pu:"Live"},{W:"span",T:"ytp-videowall-still-info-duration",pu:"{{duration}}"}]}]}]},{W:"span",d$:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],Z:{"aria-hidden":"true"},J:[{W:"span",T:"ytp-videowall-still-listlabel-icon"},"Playlist",{W:"span",T:"ytp-videowall-still-listlabel-length",J:[" (",{W:"span",pu:"{{playlist_length}}"},")"]}]},{W:"span",d$:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],Z:{"aria-hidden":"true"},J:[{W:"span",T:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{W:"span",T:"ytp-videowall-still-listlabel-length",pu:" (50+)"}]}]});this.suggestion=null;this.L=u;this.api=w;this.B=new g.V2(this);g.b(this,this.B);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.B.Y(w,"videodatachange",this.onVideoDataChange);w.createServerVe(this.element,this);this.onVideoDataChange()},Ei=function(w){hq.call(this,w,"videowall-endscreen");
var M=this;this.U=w;this.C=0;this.stills=[];this.X=this.videoData=null;this.K=this.V=!1;this.S=null;this.L=new g.V2(this);g.b(this,this.L);this.j=new g.gV(function(){g.io(M.element,"ytp-show-tiles")},0);
g.b(this,this.j);var P=new g.r({W:"button",d$:["ytp-button","ytp-endscreen-previous"],Z:{"aria-label":"Previous"},J:[g.cz()]});g.b(this,P);P.XK(this.element);P.listen("click",this.b2,this);this.table=new g.Mo({W:"div",T:"ytp-endscreen-content"});g.b(this,this.table);this.table.XK(this.element);P=new g.r({W:"button",d$:["ytp-button","ytp-endscreen-next"],Z:{"aria-label":"Next"},J:[g.ZI()]});g.b(this,P);P.XK(this.element);P.listen("click",this.A0,this);w.getVideoData().SZ?this.B=new fi(w,!0):this.B=
new cq(w);g.b(this,this.B);g.bD(this.player,this.B.element,4);w.createClientVe(this.element,this,158789);this.hide()},N7=function(w){return g.IZ(w.player)&&w.l_()&&!w.X},VQ=function(w){var M=w.eU();
M!==w.V&&(w.V=M,BeU(w.player))},Jax=function(w,M){g.r.call(this,{W:"button",
d$:["ytp-watch-on-youtube-button","ytp-button"],pu:"{{content}}"});this.U=w;this.buttonType=this.buttonType=M;this.Cf();this.buttonType===2&&g.io(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.Cf);this.AD(!0)},mz=function(w){hq.call(this,w,"watch-again-on-youtube-endscreen");
this.watchButton=new Jax(w,1);g.b(this,this.watchButton);this.watchButton.XK(this.element);g.kpj(w)&&(this.B=new g.Pw(w),g.b(this,this.B),this.L=new g.r({W:"div",d$:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],Z:{tabIndex:"-1"},J:[this.B]}),g.b(this,this.L),this.B.XK(this.L.element),this.L.XK(this.element));w.createClientVe(this.element,this,156914);this.hide()},tcx=function(w){g.D0.call(this,w);
var M=this;this.endScreen=null;this.B=this.L=this.C=!1;this.listeners=new g.V2(this);g.b(this,this.listeners);var P=w.N();w.isEmbedsShortsMode()?this.endScreen=new mz(w):rap(w)?(this.C=!0,j4a(this),this.B?this.endScreen=new ZO(w):P.D("delhi_modern_endscreen")?this.endScreen=new AaV(w):this.endScreen=new Ei(w)):P.kD?this.endScreen=new gJ4(w):this.endScreen=new hq(w);g.b(this,this.endScreen);g.bD(w,this.endScreen.element,4);CRx(this);this.listeners.Y(w,"videodatachange",this.onVideoDataChange,this);
this.listeners.Y(w,g.AP("endscreen"),function(u){M.onCueRangeEnter(u)});
this.listeners.Y(w,g.gL("endscreen"),function(u){M.onCueRangeExit(u)})},j4a=function(w){var M=w.player.getVideoData();
if(!M||w.B===M.Z0&&w.L===M.SZ)return!1;w.B=M.Z0;w.L=M.SZ;return!0},rap=function(w){w=w.N();
return w.DX&&!w.kD&&!w.disableOrganicUi},CRx=function(w){w.player.dB("endscreen");
var M=w.player.getVideoData();M=new g.bg(Math.max((M.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var P=new g.bg(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});w.player.qf([M,P])};
g.BV.prototype.gw=g.Xl(6,function(){return this.app.gw()});
g.op.prototype.gw=g.Xl(5,function(){return this.getVideoData().TT});
g.dI.prototype.wi=g.Xl(4,function(w){this.UG().wi(w)});
g.tI.prototype.wi=g.Xl(3,function(w){this.lK!==w&&(this.lK=w,this.Be())});
g.V(Ui,g.r);Ui.prototype.select=function(){this.U.Hx(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.sV||void 0)&&this.U.logClick(this.element)};
Ui.prototype.onClick=function(w){g.SZ(w,this.U,this.B,this.suggestion.sessionData||void 0)&&this.select()};
Ui.prototype.onKeyPress=function(w){switch(w.keyCode){case 13:case 32:w.defaultPrevented||(this.select(),w.preventDefault())}};g.V(fi,g.r);g.N=fi.prototype;g.N.ON=function(w){this.suggestion!==w&&(this.suggestion=w,g.Z0(this.B,w),this.playButton.updateValue("url",this.suggestion.eA()),Wq(this))};
g.N.XH=function(){return this.C>0};
g.N.zI=function(){this.XH()||(this.C=Date.now(),nJx(this),Q43(this.U,s4C(this)),g.X6(this.U.getRootNode(),"countdown-running",this.XH()))};
g.N.ez=function(){this.Ee();nJx(this);var w=this.B.RI("ytp-autonav-endscreen-upnext-header");w&&g.oU(w,"Up next")};
g.N.Ee=function(){this.XH()&&(this.X.stop(),this.C=0)};
g.N.select=function(w){this.U.nextVideo(!1,w===void 0?!1:w);this.Ee()};
g.N.s4=function(w){g.SZ(w,this.U)&&(w.currentTarget===this.playButton.element?this.U.logClick(this.playButton.element):w.currentTarget===this.B.RI("ytp-autonav-endscreen-link-container")&&(w=this.B.RI("ytp-autonav-endscreen-link-container"),this.U.logVisibility(w,!0),this.U.logClick(w)),this.K?(this.U.Vs("innertubeCommand",this.K),this.Ee()):this.select())};
g.N.l2=function(){this.U.logClick(this.cancelButton.element);g.kt(this.U,!0);this.cancelCommand&&this.U.Vs("innertubeCommand",this.cancelCommand)};
g.N.onVideoDataChange=function(w,M){RZE(this,M);w=M.getWatchNextResponse();var P,u;w=(P=k_x(w))==null?void 0:(u=P.cancelButton)==null?void 0:u.buttonRenderer;this.cancelCommand=w==null?void 0:w.command};
g.N.h$N=function(w){if(KR$(this)){var M=this.U.getVideoData().watchToWatchTransitionRenderer,P=M==null?void 0:M.fromColorPaletteDark;M=M==null?void 0:M.toColorPaletteDark;if(P&&M){var u=this.element;u.style.setProperty("--w2w-start-background-color",g.ew(P.surgeColor));u.style.setProperty("--w2w-start-primary-text-color",g.ew(P.primaryTitleColor));u.style.setProperty("--w2w-start-secondary-text-color",g.ew(P.secondaryTitleColor));u.style.setProperty("--w2w-end-background-color",g.ew(M.surgeColor));
u.style.setProperty("--w2w-end-primary-text-color",g.ew(M.primaryTitleColor));u.style.setProperty("--w2w-end-secondary-text-color",g.ew(M.secondaryTitleColor));u.style.setProperty("--w2w-animation-duration",w+"ms")}g.X6(this.element,"ytp-w2w-animate",!0)}};
g.N.t0=function(w){this.U.D("web_autonav_color_transition")&&w!==2&&g.X6(this.element,"ytp-w2w-animate",!1)};
g.N.F7=function(){var w=this.U.eU();this.j&&this.J9!==w&&this.AD(w);Wq(this);this.U.logVisibility(this.container.element,w);this.U.logVisibility(this.cancelButton.element,w);this.U.logVisibility(this.B.RI("ytp-autonav-endscreen-link-container"),w);this.U.logVisibility(this.playButton.element,w)};
g.N.Jx=function(w){return w.width<400||w.height<459};g.V(hq,g.r);g.N=hq.prototype;g.N.create=function(){this.created=!0};
g.N.destroy=function(){this.created=!1};
g.N.l_=function(){return!1};
g.N.eU=function(){return!1};
g.N.Ir=function(){return!1};g.V(cq,g.r);g.N=cq.prototype;g.N.KQ=function(){this.notification&&(this.X.stop(),this.Mt(this.C),this.C=null,this.notification.close(),this.notification=null)};
g.N.ON=function(w){this.suggestion=w;g.Z0(this,w,"hqdefault.jpg")};
g.N.xk=function(){this.AD(this.api.eU());this.api.logVisibility(this.element,this.api.eU());this.api.logVisibility(this.RI("ytp-upnext-autoplay-icon"),this.api.eU());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.eU())};
g.N.kE9=function(){window.focus();this.KQ()};
g.N.zI=function(w){var M=this;this.XH()||(g.OY("a11y-announce","Up Next "+this.suggestion.title),this.L=(0,g.G$)(),this.B=new g.gV(function(){Itj(M,w)},25),Itj(this,w),Q43(this.api,b5C(this,w)));
g.PI(this.element,"ytp-upnext-autoplay-paused")};
g.N.hide=function(){g.r.prototype.hide.call(this)};
g.N.XH=function(){return!!this.B};
g.N.ez=function(){this.Ee();this.L=(0,g.G$)();Itj(this);g.io(this.element,"ytp-upnext-autoplay-paused")};
g.N.Ee=function(){this.XH()&&(this.B.dispose(),this.B=null)};
g.N.select=function(w){w=w===void 0?!1:w;if(this.api.N().D("autonav_notifications")&&w&&window.Notification&&typeof document.hasFocus==="function"){var M=Notification.permission;M==="default"?Notification.requestPermission():M!=="granted"||document.hasFocus()||(this.KQ(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.Md()}),this.C=this.Y(this.notification,"click",this.kE9),this.X.start())}this.Ee();this.api.nextVideo(!1,w)};
g.N.Vk=function(w){!g.mG(this.cancelButton.element,w.target)&&g.SZ(w,this.api)&&(this.api.eU()&&this.api.logClick(this.RI("ytp-upnext-autoplay-icon")),this.select())};
g.N.YF=function(){this.api.eU()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.kt(this.api,!0)};
g.N.yDu=function(w){this.api.getPresentingPlayerType();this.show();this.zI(w)};
g.N.XjW=function(){this.api.getPresentingPlayerType();this.Ee();this.hide()};
g.N.v3=function(){this.Ee();this.KQ();g.r.prototype.v3.call(this)};g.V(ZO,hq);g.N=ZO.prototype;g.N.create=function(){hq.prototype.create.call(this);this.X.Y(this.player,"appresize",this.h_);this.X.Y(this.player,"onVideoAreaChange",this.h_);this.X.Y(this.player,"videodatachange",this.onVideoDataChange);this.X.Y(this.player,"autonavchange",this.eJ);this.X.Y(this.player,"onAutonavCancelled",this.nh);this.onVideoDataChange()};
g.N.show=function(){hq.prototype.show.call(this);(this.j||this.C&&this.C!==this.videoData.clientPlaybackNonce)&&g.kt(this.player,!1);g.IZ(this.player)&&this.l_()&&!this.C?(Ss(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.zI():this.videoData.autonavState===3&&this.B.ez()):(g.kt(this.player,!0),Ss(this));this.h_()};
g.N.hide=function(){hq.prototype.hide.call(this);this.B.ez();Ss(this)};
g.N.h_=function(){var w=this.player.UB(!0,this.player.isFullscreen());Ss(this);Wq(this.L);g.X6(this.element,"ytp-autonav-cancelled-small-mode",this.Jx(w));g.X6(this.element,"ytp-autonav-cancelled-tiny-mode",this.A7(w));g.X6(this.element,"ytp-autonav-cancelled-mini-mode",w.width<=400||w.height<=360);this.overlay&&g.A1(this.overlay.element,{width:w.width+"px"});if(!this.K)for(w=0;w<this.videos.length;w++)g.X6(this.videos[w].element,"ytp-suggestion-card-with-margin",w%2===1)};
g.N.onVideoDataChange=function(){var w=this.player.getVideoData();if(this.videoData!==w&&w){this.videoData=w;if((w=this.videoData.suggestions)&&w.length||this.player.D("web_player_autonav_empty_suggestions_fix")){var M=g.Zw(this.videoData);M&&(this.B.ON(M),this.B!==this.L&&this.L.ON(M))}if(w&&w.length)for(M=0;M<xNC.length;++M){var P=xNC[M];if(w&&w[P]){this.videos[M]=new Ui(this.player);var u=this.videos[M];P=w[P];u.suggestion!==P&&(u.suggestion=P,g.Z0(u,P));g.b(this,this.videos[M]);this.videos[M].XK(this.V.element)}}this.h_()}};
g.N.eJ=function(w){w===1?(this.j=!1,this.C=this.videoData.clientPlaybackNonce,this.B.Ee(),this.J9&&this.h_()):(this.j=!0,this.eU()&&(w===2?this.B.zI():w===3&&this.B.ez()))};
g.N.nh=function(w){w?this.eJ(1):(this.C=null,this.j=!1)};
g.N.l_=function(){return this.videoData.autonavState!==1};
g.N.Jx=function(w){return(w.width<910||w.height<459)&&!this.A7(w)&&!(w.width<=400||w.height<=360)};
g.N.A7=function(w){return w.width<800&&!(w.width<=400||w.height<=360)};
g.N.eU=function(){return this.J9&&g.IZ(this.player)&&this.l_()&&!this.C};
var xNC=[1,3,2,4];g.V(AaV,hq);g.N=AaV.prototype;g.N.create=function(){hq.prototype.create.call(this);var w=this.player.getVideoData();w&&(this.videoData=w);this.vO();this.L.Y(this.player,"appresize",this.vO);this.L.Y(this.player,"onVideoAreaChange",this.vO);this.L.Y(this.player,"videodatachange",this.onVideoDataChange);this.L.Y(this.player,"autonavchange",this.Io);this.L.Y(this.player,"onAutonavCancelled",this.N3);w=this.videoData.autonavState;w!==this.V&&this.Io(w);this.L.Y(this.element,"transitionend",this.ZM)};
g.N.destroy=function(){g.qi(this.L);g.iZ(this.stills);this.stills=[];hq.prototype.destroy.call(this);g.PI(this.element,"ytp-show-tiles");this.K.stop();this.V=this.videoData.autonavState};
g.N.l_=function(){return this.videoData.autonavState!==1};
g.N.show=function(){var w=this.J9;hq.prototype.show.call(this);g.PI(this.element,"ytp-show-tiles");this.player.N().L?g.rV(this.K):this.K.start();(this.X||this.C&&this.C!==this.videoData.clientPlaybackNonce)&&g.kt(this.player,!1);Hq(this)?(pi(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.zI():this.videoData.autonavState===3&&this.B.ez()):(g.kt(this.player,!0),pi(this));w!==this.J9&&this.player.logVisibility(this.element,!0)};
g.N.hide=function(){var w=this.J9;hq.prototype.hide.call(this);this.B.ez();pi(this);w!==this.J9&&this.player.logVisibility(this.element,!1)};
g.N.ZM=function(w){w.target===this.element&&this.vO()};
g.N.vO=function(){var w,M,P,u;var X=((w=this.videoData)==null?0:(M=w.suggestions)==null?0:M.length)?(P=this.videoData)==null?void 0:P.suggestions:[(u=this.videoData)==null?void 0:g.Zw(u)];if(X.length){M=this.U.UB(!0,this.U.isFullscreen());w=Math.floor((M.width-64+16)/(g.bi(M.width*.27,250,450)+16));M=Math.min(3,Math.floor((M.height-64)/((M.width-64-(w-1)*16)/w*.5625+70)));g.uo(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.io(this.element,"ytp-modern-endscreen-limit-rows-"+M);g.X6(this.element,"ytp-modern-endscreen-single-item",w===1);g.X6(this.element,"ytp-modern-endscreen-row-0",M===0);w=this.table.element;w.ariaLive="polite";this.B.ON(g.Zw(this.videoData));this.B instanceof fi&&Wq(this.B);g.X6(this.element,"ytp-endscreen-takeover",Hq(this));pi(this);M=0;w.ariaBusy="true";P=X.length;for(u=0;u<P;u++){var U=u%P,f=this.stills[u];f||(f=new g.SO(this.player),this.stills[u]=f,w.appendChild(f.element));g.iGx(f,X[U]);M++}this.stills.length=
M}};
g.N.onVideoDataChange=function(){var w=this.player.getVideoData(1);this.videoData!==w&&(w!=null&&g.Zw(w)?(this.videoData=w,this.vO()):this.player.II("missg",{vid:(w==null?void 0:w.videoId)||"",cpn:(w==null?void 0:w.clientPlaybackNonce)||""}))};
g.N.Ir=function(){return this.B.XH()};
g.N.Io=function(w){w===1?(this.X=!1,this.C=this.videoData.clientPlaybackNonce,this.B.Ee(),this.J9&&this.vO()):(this.X=!0,this.J9&&Hq(this)&&(w===2?this.B.zI():w===3&&this.B.ez()))};
g.N.N3=function(w){if(w){for(w=0;w<this.stills.length;w++)this.U.logVisibility(this.stills[w].element,!0);this.Io(1)}else this.C=null,this.X=!1;this.vO()};
g.N.eU=function(){return this.J9&&Hq(this)};g.V(gJ4,hq);gJ4.prototype.g$=function(){var w=this.player.getVideoData();this.B.update({profilePicture:w.profilePicture,author:w.author});this.subscribeButton.channelId=w.ZY;var M=this.subscribeButton;w.subscribed?M.B():M.L()};g.V(FR,g.r);FR.prototype.select=function(){this.api.Hx(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.sV||void 0)&&this.api.logClick(this.element)};
FR.prototype.onClick=function(w){if(g.K7(this.api.N())&&this.api.D("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var M=this.suggestion.eA(),P={};g.vV(this.api,P);M=g.p5(M,P);g.HH(M,this.api,w)}else g.SZ(w,this.api,this.L,this.suggestion.sessionData||void 0)&&this.select()};
FR.prototype.onKeyPress=function(w){switch(w.keyCode){case 13:case 32:w.defaultPrevented||(this.select(),w.preventDefault())}};
FR.prototype.onVideoDataChange=function(){var w=this.api.getVideoData(),M=this.api.N();this.L=w.Ym?!1:M.X};g.V(Ei,hq);g.N=Ei.prototype;g.N.create=function(){hq.prototype.create.call(this);var w=this.player.getVideoData();w&&(this.videoData=w);this.Kk();this.L.Y(this.player,"appresize",this.Kk);this.L.Y(this.player,"onVideoAreaChange",this.Kk);this.L.Y(this.player,"videodatachange",this.onVideoDataChange);this.L.Y(this.player,"autonavchange",this.pw);this.L.Y(this.player,"onAutonavCancelled",this.Hh);w=this.videoData.autonavState;w!==this.S&&this.pw(w);this.L.Y(this.element,"transitionend",this.q3)};
g.N.destroy=function(){g.qi(this.L);g.iZ(this.stills);this.stills=[];hq.prototype.destroy.call(this);g.PI(this.element,"ytp-show-tiles");this.j.stop();this.S=this.videoData.autonavState};
g.N.l_=function(){return this.videoData.autonavState!==1};
g.N.show=function(){var w=this.J9;hq.prototype.show.call(this);g.PI(this.element,"ytp-show-tiles");this.player.N().L?g.rV(this.j):this.j.start();(this.K||this.X&&this.X!==this.videoData.clientPlaybackNonce)&&g.kt(this.player,!1);N7(this)?(VQ(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.B.select(!0):this.B.zI():this.videoData.autonavState===3&&this.B.ez()):(g.kt(this.player,!0),VQ(this));w!==this.J9&&this.player.logVisibility(this.element,!0)};
g.N.hide=function(){var w=this.J9;hq.prototype.hide.call(this);this.B.ez();VQ(this);w!==this.J9&&this.player.logVisibility(this.element,!1)};
g.N.q3=function(w){w.target===this.element&&this.Kk()};
g.N.Kk=function(){var w,M,P,u;var X=((w=this.videoData)==null?0:(M=w.suggestions)==null?0:M.length)?(P=this.videoData)==null?void 0:P.suggestions:[(u=this.videoData)==null?void 0:g.Zw(u)];if(X.length){g.io(this.element,"ytp-endscreen-paginate");var U=this.U.UB(!0,this.U.isFullscreen());if(w=g.y1(this.U))w=w.WZ()?48:32,U.width-=w*2;var f=U.width/U.height;u=96/54;M=w=2;var h=Math.max(U.width/96,2),c=Math.max(U.height/54,2);P=X.length;var Z=P*4;for(Z-=4;Z>0&&(w<h||M<c);){var S=w/2,H=M/2,p=w<=h-2&&Z>=
H*4,F=M<=c-2&&Z>=S*4;if((S+1)/H*u/f>f/(S/(H+1)*u)&&F)Z-=S*4,M+=2;else if(p)Z-=H*4,w+=2;else if(F)Z-=S*4,M+=2;else break}u=!1;Z>=12&&P*4-Z<=6&&(M>=4||w>=4)&&(u=!0);Z=w*96;h=M*54;f=Z/h<f?U.height/h:U.width/Z;f=Math.min(f,2);Z=Math.floor(Math.min(U.width,Z*f));h=Math.floor(Math.min(U.height,h*f));U=this.table.element;U.ariaLive="polite";g.w2(U,Z,h);g.A1(U,{marginLeft:Z/-2+"px",marginTop:h/-2+"px"});this.B.ON(g.Zw(this.videoData));this.B instanceof fi&&Wq(this.B);g.X6(this.element,"ytp-endscreen-takeover",
N7(this));VQ(this);Z+=4;h+=4;f=0;U.ariaBusy="true";for(c=0;c<w;c++)for(S=0;S<M;S++)if(H=f,F=0,u&&c>=w-2&&S>=M-2?F=1:S%2===0&&c%2===0&&(S<2&&c<2?S===0&&c===0&&(F=2):F=2),H=g.I7(H+this.C,P),F!==0){p=this.stills[f];p||(p=new FR(this.player),this.stills[f]=p,U.appendChild(p.element));var E=Math.floor(h*S/M),y=Math.floor(Z*c/w),q=Math.floor(h*(S+F)/M)-E-4,d=Math.floor(Z*(c+F)/w)-y-4;g.t1(p.element,y,E);g.w2(p.element,d,q);g.A1(p.element,"transitionDelay",(S+c)/20+"s");g.X6(p.element,"ytp-videowall-still-mini",
F===1);g.X6(p.element,"ytp-videowall-still-large",F>2);F=Math.max(d,q);g.X6(p.element,"ytp-videowall-still-round-large",F>=256);g.X6(p.element,"ytp-videowall-still-round-medium",F>96&&F<256);g.X6(p.element,"ytp-videowall-still-round-small",F<=96);H=X[H];p.suggestion!==H&&(p.suggestion=H,F=p.api.N(),E=g.w1(p.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.Z0(p,H,E),g.K7(F)&&!p.api.D("web_player_log_click_before_generating_ve_conversion_params")&&(F=H.eA(),E={},g.Nl(p.api,"addEmbedsConversionTrackingParams",
[E]),F=g.p5(F,E),p.updateValue("url",F)),(H=(H=H.sessionData)&&H.itct)&&p.api.setTrackingParams(p.element,H));f++}U.ariaBusy="false";g.X6(this.element,"ytp-endscreen-paginate",f<P);for(X=this.stills.length-1;X>=f;X--)w=this.stills[X],g.Vy(w.element),g.wR(w);this.stills.length=f}};
g.N.onVideoDataChange=function(){var w=this.player.getVideoData(1);this.videoData!==w&&(w!=null&&g.Zw(w)?(this.C=0,this.videoData=w,this.Kk()):this.player.II("missg",{vid:(w==null?void 0:w.videoId)||"",cpn:(w==null?void 0:w.clientPlaybackNonce)||""}))};
g.N.A0=function(){this.C+=this.stills.length;this.Kk()};
g.N.b2=function(){this.C-=this.stills.length;this.Kk()};
g.N.Ir=function(){return this.B.XH()};
g.N.pw=function(w){w===1?(this.K=!1,this.X=this.videoData.clientPlaybackNonce,this.B.Ee(),this.J9&&this.Kk()):(this.K=!0,this.J9&&N7(this)&&(w===2?this.B.zI():w===3&&this.B.ez()))};
g.N.Hh=function(w){if(w){for(w=0;w<this.stills.length;w++)this.U.logVisibility(this.stills[w].element,!0);this.pw(1)}else this.X=null,this.K=!1;this.Kk()};
g.N.eU=function(){return this.J9&&N7(this)};g.V(Jax,g.r);g.N=Jax.prototype;g.N.Cf=function(){switch(this.buttonType){case 1:var w="Watch again on YouTube";var M=156915;break;case 2:w="Continue watching on YouTube";M=156942;break;default:w="Continue watching on YouTube",M=156942}this.update({content:w});this.U.hasVe(this.element)&&this.U.destroyVe(this.element);this.U.createClientVe(this.element,this,M)};
g.N.onClick=function(w){this.U.D("web_player_log_click_before_generating_ve_conversion_params")&&this.U.logClick(this.element);g.HH(this.getVideoUrl(),this.U,w);this.U.D("web_player_log_click_before_generating_ve_conversion_params")||this.U.logClick(this.element)};
g.N.getVideoUrl=function(){var w=!0;switch(this.buttonType){case 1:w=!0;break;case 2:w=!1}w=this.U.getVideoUrl(w,!1,!1,!0);var M=this.U.N();if(g.K7(M)){var P={};g.K7(M)&&g.Nl(this.U,"addEmbedsConversionTrackingParams",[P]);w=g.p5(w,P)}return w};
g.N.logVisibility=function(){this.U.logVisibility(this.element,this.J9&&this.G)};
g.N.show=function(){g.r.prototype.show.call(this);this.logVisibility()};
g.N.hide=function(){g.r.prototype.hide.call(this);this.logVisibility()};
g.N.jK=function(w){g.r.prototype.jK.call(this,w);this.logVisibility()};g.V(mz,hq);mz.prototype.hasSuggestions=function(){var w;return(w=this.B)==null?void 0:w.hasSuggestions()};
mz.prototype.show=function(){if(this.player.getPlayerState()!==3){hq.prototype.show.call(this);var w=this.L;if(w){var M=this.B.hasSuggestions();g.X6(this.element,"ytp-shorts-branded-ui",M);M?w.show():w.hide()}var P;(P=g.y1(this.player))==null||P.wi(!0);this.player.logVisibility(this.element,!0);this.watchButton.jK(!0)}};
mz.prototype.hide=function(){hq.prototype.hide.call(this);var w;(w=g.y1(this.player))==null||w.wi(!1);this.player.logVisibility(this.element,!1);this.watchButton.jK(!1)};g.V(tcx,g.D0);g.N=tcx.prototype;g.N.iP=function(){var w=this.player.getVideoData(),M=w.mutedAutoplay&&(w.limitedPlaybackDurationInSeconds>0||w.endSeconds>0||w.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!M)return!0;var P;var u=!!((w==null?0:g.Zw(w))||(w==null?0:(P=w.suggestions)==null?0:P.length));u=!rap(this.player)||u;w=w.tF;P=this.player.dD();return u&&!w&&!P&&!M};
g.N.eU=function(){return this.endScreen.eU()};
g.N.R$=function(){return this.eU()?this.endScreen.Ir():!1};
g.N.v3=function(){this.player.dB("endscreen");g.D0.prototype.v3.call(this)};
g.N.load=function(){var w=this.player.getVideoData();var M=w.transitionEndpointAtEndOfStream;if(M&&M.videoId){var P=this.player.I9().BB.get("heartbeat"),u=g.Zw(w);!u||M.videoId!==u.videoId||w.r_?(this.player.Hx(M.videoId,void 0,void 0,!0,!0,M),P&&P.vX("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),w=!0):w=!1}else w=!1;w||(g.D0.prototype.load.call(this),this.endScreen.show())};
g.N.unload=function(){g.D0.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.N.onCueRangeEnter=function(w){this.iP()&&(this.endScreen.created||this.endScreen.create(),w.getId()==="load"&&this.load())};
g.N.onCueRangeExit=function(w){w.getId()==="load"&&this.loaded&&this.unload()};
g.N.onVideoDataChange=function(){CRx(this);this.C&&j4a(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.B?this.endScreen=new ZO(this.player):this.endScreen=new Ei(this.player),g.b(this,this.endScreen),g.bD(this.player,this.endScreen.element,4))};g.yT("endscreen",tcx);})(_yt_player);
